var FBPublication=FBPublication||{};FBPublication.build=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=13)}([function(a,b,c){"use strict";var d,e;Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=window,h=Array.prototype,i=Object.prototype,j="undefined"!=typeof Symbol?Symbol.prototype:null,k=h.push,l=h.slice,m=i.toString,n=i.hasOwnProperty,o=Array.isArray,p=Object.keys,q=Object.create,r=function(){},s=function a(b){return b instanceof a?b:this instanceof a?void(this._wrapped=b):new a(b)};s.VERSION="1.8.3";var t,u=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},v=function(a,b,c){return s.iteratee!==t?s.iteratee(a,b):null==a?s.identity:s.isFunction(a)?u(a,b,c):s.isObject(a)?s.matcher(a):s.property(a)};s.iteratee=t=function(a,b){return v(a,b,1/0)};var w=function(a,b){return b=null==b?a.length-1:+b,function(){for(var c=Math.max(arguments.length-b,0),d=Array(c),e=0;e<c;e++)d[e]=arguments[e+b];switch(b){case 0:return a.call(this,d);case 1:return a.call(this,arguments[0],d);case 2:return a.call(this,arguments[0],arguments[1],d)}var f=Array(b+1);for(e=0;e<b;e++)f[e]=arguments[e];return f[b]=d,a.apply(this,f)}},x=function(a){if(!s.isObject(a))return{};if(q)return q(a);r.prototype=a;var b=new r;return r.prototype=null,b},y=function(a){return function(b){return null==b?void 0:b[a]}},z=Math.pow(2,53)-1,A=y("length"),B=function(a){var b=A(a);return"number"==typeof b&&b>=0&&b<=z};s.each=s.forEach=function(a,b,c){b=u(b,c);var d,e;if(B(a))for(d=0,e=a.length;d<e;d++)b(a[d],d,a);else{var f=s.keys(a);for(d=0,e=f.length;d<e;d++)b(a[f[d]],f[d],a)}return a},s.map=s.collect=function(a,b,c){b=v(b,c);for(var d=!B(a)&&s.keys(a),e=(d||a).length,f=Array(e),g=0;g<e;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f};var C=function(a){var b=function(b,c,d,e){var f=!B(b)&&s.keys(b),g=(f||b).length,h=a>0?0:g-1;for(e||(d=b[f?f[h]:h],h+=a);h>=0&&h<g;h+=a){var i=f?f[h]:h;d=c(d,b[i],i,b)}return d};return function(a,c,d,e){var f=arguments.length>=3;return b(a,u(c,e,4),d,f)}};s.reduce=s.foldl=s.inject=C(1),s.reduceRight=s.foldr=C(-1),s.find=s.detect=function(a,b,c){var d=B(a)?s.findIndex:s.findKey,e=d(a,b,c);if(void 0!==e&&-1!==e)return a[e]},s.filter=s.select=function(a,b,c){var d=[];return b=v(b,c),s.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},s.reject=function(a,b,c){return s.filter(a,s.negate(v(b)),c)},s.every=s.all=function(a,b,c){b=v(b,c);for(var d=!B(a)&&s.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},s.some=s.any=function(a,b,c){b=v(b,c);for(var d=!B(a)&&s.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},s.contains=s.includes=s.include=function(a,b,c,d){return B(a)||(a=s.values(a)),("number"!=typeof c||d)&&(c=0),s.indexOf(a,b,c)>=0},s.invoke=w(function(a,b,c){var d=s.isFunction(b);return s.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})}),s.pluck=function(a,b){return s.map(a,s.property(b))},s.where=function(a,b){return s.filter(a,s.matcher(b))},s.findWhere=function(a,b){return s.find(a,s.matcher(b))},s.max=function(a,b,c){var d,e,g=-1/0,h=-1/0;if(null==b||"number"==typeof b&&"object"!=f(a[0])&&null!=a){a=B(a)?a:s.values(a);for(var i=0,j=a.length;i<j;i++)null!=(d=a[i])&&d>g&&(g=d)}else b=v(b,c),s.each(a,function(a,c,d){((e=b(a,c,d))>h||e===-1/0&&g===-1/0)&&(g=a,h=e)});return g},s.min=function(a,b,c){var d,e,g=1/0,h=1/0;if(null==b||"number"==typeof b&&"object"!=f(a[0])&&null!=a){a=B(a)?a:s.values(a);for(var i=0,j=a.length;i<j;i++)null!=(d=a[i])&&d<g&&(g=d)}else b=v(b,c),s.each(a,function(a,c,d){((e=b(a,c,d))<h||e===1/0&&g===1/0)&&(g=a,h=e)});return g},s.shuffle=function(a){return s.sample(a,1/0)},s.sample=function(a,b,c){if(null==b||c)return B(a)||(a=s.values(a)),a[s.random(a.length-1)];var d=B(a)?s.clone(a):s.values(a),e=A(d);b=Math.max(Math.min(b,e),0);for(var f=e-1,g=0;g<b;g++){var h=s.random(g,f),i=d[g];d[g]=d[h],d[h]=i}return d.slice(0,b)},s.sortBy=function(a,b,c){var d=0;return b=v(b,c),s.pluck(s.map(a,function(a,c,e){return{value:a,index:d++,criteria:b(a,c,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var D=function(a,b){return function(c,d,e){var f=b?[[],[]]:{};return d=v(d,e),s.each(c,function(b,e){var g=d(b,e,c);a(f,b,g)}),f}};s.groupBy=D(function(a,b,c){s.has(a,c)?a[c].push(b):a[c]=[b]}),s.indexBy=D(function(a,b,c){a[c]=b}),s.countBy=D(function(a,b,c){s.has(a,c)?a[c]++:a[c]=1});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;s.toArray=function(a){return a?s.isArray(a)?l.call(a):s.isString(a)?a.match(E):B(a)?s.map(a,s.identity):s.values(a):[]},s.size=function(a){return null==a?0:B(a)?a.length:s.keys(a).length},s.partition=D(function(a,b,c){a[c?0:1].push(b)},!0),s.first=s.head=s.take=function(a,b,c){if(!(null==a||a.length<1))return null==b||c?a[0]:s.initial(a,a.length-b)},s.initial=function(a,b,c){return l.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},s.last=function(a,b,c){if(!(null==a||a.length<1))return null==b||c?a[a.length-1]:s.rest(a,Math.max(0,a.length-b))},s.rest=s.tail=s.drop=function(a,b,c){return l.call(a,null==b||c?1:b)},s.compact=function(a){return s.filter(a,Boolean)};var F=function a(b,c,d,e){e=e||[];for(var f=e.length,g=0,h=A(b);g<h;g++){var i=b[g];if(B(i)&&(s.isArray(i)||s.isArguments(i)))if(c)for(var j=0,k=i.length;j<k;)e[f++]=i[j++];else a(i,c,d,e),f=e.length;else d||(e[f++]=i)}return e};s.flatten=function(a,b){return F(a,b,!1)},s.without=w(function(a,b){return s.difference(a,b)}),s.uniq=s.unique=function(a,b,c,d){s.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=v(c,d));for(var e=[],f=[],g=0,h=A(a);g<h;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?s.contains(f,j)||(f.push(j),e.push(i)):s.contains(e,i)||e.push(i)}return e},s.union=w(function(a){return s.uniq(F(a,!0,!0))}),s.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=A(a);d<e;d++){var f=a[d];if(!s.contains(b,f)){var g;for(g=1;g<c&&s.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},s.difference=w(function(a,b){return b=F(b,!0,!0),s.filter(a,function(a){return!s.contains(b,a)})}),s.unzip=function(a){for(var b=a&&s.max(a,A).length||0,c=Array(b),d=0;d<b;d++)c[d]=s.pluck(a,d);return c},s.zip=w(s.unzip),s.object=function(a,b){for(var c={},d=0,e=A(a);d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};var G=function(a){return function(b,c,d){c=v(c,d);for(var e=A(b),f=a>0?0:e-1;f>=0&&f<e;f+=a)if(c(b[f],f,b))return f;return-1}};s.findIndex=G(1),s.findLastIndex=G(-1),s.sortedIndex=function(a,b,c,d){c=v(c,d,1);for(var e=c(b),f=0,g=A(a);f<g;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f};var H=function(a,b,c){return function(d,e,f){var g=0,h=A(d);if("number"==typeof f)a>0?g=f>=0?f:Math.max(f+h,g):h=f>=0?Math.min(f+1,h):f+h+1;else if(c&&f&&h)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(l.call(d,g,h),s.isNaN),f>=0?f+g:-1;for(f=a>0?g:h-1;f>=0&&f<h;f+=a)if(d[f]===e)return f;return-1}};s.indexOf=H(1,s.findIndex,s.sortedIndex),s.lastIndexOf=H(-1,s.findLastIndex),s.range=function(a,b,c){null==b&&(b=a||0,a=0),c||(c=b<a?-1:1);for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;f<d;f++,a+=c)e[f]=a;return e},s.chunk=function(a,b){if(null==b||b<1)return[];for(var c=[],d=0,e=a.length;d<e;)c.push(l.call(a,d,d+=b));return c};var I=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=x(a.prototype),g=a.apply(f,e);return s.isObject(g)?g:f};s.bind=w(function(a,b,c){if(!s.isFunction(a))throw new TypeError("Bind must be called on a function");var d=w(function(e){return I(a,d,b,this,c.concat(e))});return d}),s.partial=w(function(a,b){var c=s.partial.placeholder;return function d(){for(var e=0,f=b.length,g=Array(f),h=0;h<f;h++)g[h]=b[h]===c?arguments[e++]:b[h];for(;e<arguments.length;)g.push(arguments[e++]);return I(a,d,this,this,g)}}),s.partial.placeholder=s,s.bindAll=w(function(a,b){b=F(b,!1,!1);var c=b.length;if(c<1)throw new Error("bindAll must be passed function names");for(;c--;){var d=b[c];a[d]=s.bind(a[d],a)}}),s.memoize=function(a,b){var c=function c(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return s.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},s.delay=w(function(a,b,c){return setTimeout(function(){return a.apply(null,c)},b)}),s.defer=s.partial(s.delay,s,1),s.throttle=function(a,b,c){var d,e,f,g,h=0;c||(c={});var i=function(){h=!1===c.leading?0:s.now(),d=null,g=a.apply(e,f),d||(e=f=null)},j=function(){var j=s.now();h||!1!==c.leading||(h=j);var k=b-(j-h);return e=this,f=arguments,k<=0||k>b?(d&&(clearTimeout(d),d=null),h=j,g=a.apply(e,f),d||(e=f=null)):d||!1===c.trailing||(d=setTimeout(i,k)),g};return j.cancel=function(){clearTimeout(d),h=0,d=e=f=null},j},s.debounce=function(a,b,c){var d,e,f=function(b,c){d=null,c&&(e=a.apply(b,c))},g=w(function(g){if(d&&clearTimeout(d),c){var h=!d;d=setTimeout(f,b),h&&(e=a.apply(this,g))}else d=s.delay(f,b,this,g);return e});return g.cancel=function(){clearTimeout(d),d=null},g},s.wrap=function(a,b){return s.partial(b,a)},s.negate=function(a){return function(){return!a.apply(this,arguments)}},s.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},s.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}},s.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=null),c}},s.once=s.partial(s.before,2),s.restArgs=w;var J=!{toString:null}.propertyIsEnumerable("toString"),K=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],L=function(a,b){var c=K.length,d=a.constructor,e=s.isFunction(d)&&d.prototype||i,f="constructor";for(s.has(a,f)&&!s.contains(b,f)&&b.push(f);c--;)(f=K[c])in a&&a[f]!==e[f]&&!s.contains(b,f)&&b.push(f)};s.keys=function(a){if(!s.isObject(a))return[];if(p)return p(a);var b=[];for(var c in a)s.has(a,c)&&b.push(c);return J&&L(a,b),b},s.allKeys=function(a){if(!s.isObject(a))return[];var b=[];for(var c in a)b.push(c);return J&&L(a,b),b},s.values=function(a){for(var b=s.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d},s.mapObject=function(a,b,c){b=v(b,c);for(var d=s.keys(a),e=d.length,f={},g=0;g<e;g++){var h=d[g];f[h]=b(a[h],h,a)}return f},s.pairs=function(a){for(var b=s.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d},s.invert=function(a){for(var b={},c=s.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b},s.functions=s.methods=function(a){var b=[];for(var c in a)s.isFunction(a[c])&&b.push(c);return b.sort()};var M=function(a,b){return function(c){var d=arguments.length;if(b&&(c=Object(c)),d<2||null==c)return c;for(var e=1;e<d;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;i<h;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}};s.extend=M(s.allKeys),s.extendOwn=s.assign=M(s.keys),s.findKey=function(a,b,c){b=v(b,c);for(var d,e=s.keys(a),f=0,g=e.length;f<g;f++)if(d=e[f],b(a[d],d,a))return d};var N=function(a,b,c){return b in c};s.pick=w(function(a,b){var c={},d=b[0];if(null==a)return c;s.isFunction(d)?(b.length>1&&(d=u(d,b[1])),b=s.allKeys(a)):(d=N,b=F(b,!1,!1),a=Object(a));for(var e=0,f=b.length;e<f;e++){var g=b[e],h=a[g];d(h,g,a)&&(c[g]=h)}return c}),s.omit=w(function(a,b){var c,d=b[0];return s.isFunction(d)?(d=s.negate(d),b.length>1&&(c=b[1])):(b=s.map(F(b,!1,!1),String),d=function(a,c){return!s.contains(b,c)}),s.pick(a,d,c)}),s.defaults=M(s.allKeys,!0),s.create=function(a,b){var c=x(a);return b&&s.extendOwn(c,b),c},s.clone=function(a){return s.isObject(a)?s.isArray(a)?a.slice():s.extend({},a):a},s.tap=function(a,b){return b(a),a},s.isMatch=function(a,b){var c=s.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;f<d;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var O,P;O=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;if(a!==a)return b!==b;var e=void 0===a?"undefined":f(a);return("function"===e||"object"===e||"object"==(void 0===b?"undefined":f(b)))&&P(a,b,c,d)},P=function(a,b,c,d){a instanceof s&&(a=a._wrapped),b instanceof s&&(b=b._wrapped);var e=m.call(a);if(e!==m.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!=+a?+b!=+b:0==+a?1/+a==1/b:+a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object Symbol]":return j.valueOf.call(a)===j.valueOf.call(b)}var g="[object Array]"===e;if(!g){if("object"!=(void 0===a?"undefined":f(a))||"object"!=(void 0===b?"undefined":f(b)))return!1;var h=a.constructor,i=b.constructor;if(h!==i&&!(s.isFunction(h)&&h instanceof h&&s.isFunction(i)&&i instanceof i)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var k=c.length;k--;)if(c[k]===a)return d[k]===b;if(c.push(a),d.push(b),g){if((k=a.length)!==b.length)return!1;for(;k--;)if(!O(a[k],b[k],c,d))return!1}else{var l,n=s.keys(a);if(k=n.length,s.keys(b).length!==k)return!1;for(;k--;)if(l=n[k],!s.has(b,l)||!O(a[l],b[l],c,d))return!1}return c.pop(),d.pop(),!0},s.isEqual=function(a,b){return O(a,b)},s.isEmpty=function(a){return null==a||(B(a)&&(s.isArray(a)||s.isString(a)||s.isArguments(a))?0===a.length:0===s.keys(a).length)},s.isElement=function(a){return!(!a||1!==a.nodeType)},s.isArray=o||function(a){return"[object Array]"===m.call(a)},s.isObject=function(a){var b=void 0===a?"undefined":f(a);return"function"===b||"object"===b&&!!a},s.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(a){s["is"+a]=function(b){return m.call(b)==="[object "+a+"]"}}),s.isArguments(arguments)||(s.isArguments=function(a){return s.has(a,"callee")});var Q=g.document&&g.document.childNodes;"function"!=typeof/ . /&&"object"!=("undefined"==typeof Int8Array?"undefined":f(Int8Array))&&"function"!=typeof Q&&(s.isFunction=function(a){return"function"==typeof a||!1}),s.isFinite=function(a){return!s.isSymbol(a)&&isFinite(a)&&!isNaN(parseFloat(a))},s.isNaN=function(a){return s.isNumber(a)&&isNaN(a)},s.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===m.call(a)},s.isNull=function(a){return null===a},s.isUndefined=function(a){return void 0===a},s.has=function(a,b){return null!=a&&n.call(a,b)},s.identity=function(a){return a},s.constant=function(a){return function(){return a}},s.noop=function(){},s.property=y,s.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},s.matcher=s.matches=function(a){return a=s.extendOwn({},a),function(b){return s.isMatch(b,a)}},s.times=function(a,b,c){var d=Array(Math.max(0,a));b=u(b,c,1);for(var e=0;e<a;e++)d[e]=b(e);return d},s.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},s.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},S=s.invert(R),T=function(a){var b=function(b){return a[b]},c="(?:"+s.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};s.escape=T(R),s.unescape=T(S),s.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),s.isFunction(d)?d.call(a):d};var U=0;s.uniqueId=function(a){var b=++U+"";return a?a+b:b},s.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(a){return"\\"+W[a]};s.template=function(a,b,c){!b&&c&&(b=c),b=s.defaults({},b,s.templateSettings);var d=RegExp([(b.escape||V).source,(b.interpolate||V).source,(b.evaluate||V).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(X,Y),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";var g;try{g=new Function(b.variable||"obj","_",f)}catch(a){throw a.source=f,a}var h=function(a){return g.call(this,a,s)},i=b.variable||"obj";return h.source="function("+i+"){\n"+f+"}",h},s.chain=function(a){var b=s(a);return b._chain=!0,b};var Z=function(a,b){return a._chain?s(b).chain():b};s.mixin=function(a){return s.each(s.functions(a),function(b){var c=s[b]=a[b];s.prototype[b]=function(){var a=[this._wrapped];return k.apply(a,arguments),Z(this,c.apply(s,a))}}),s},s.mixin(s),s.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=h[a];s.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],Z(this,c)}}),s.each(["concat","join","slice"],function(a){var b=h[a];s.prototype[a]=function(){return Z(this,b.apply(this._wrapped,arguments))}}),s.prototype.value=function(){return this._wrapped},s.prototype.valueOf=s.prototype.toJSON=s.prototype.value,s.prototype.toString=function(){return String(this._wrapped)},d=[],void 0!==(e=function(){return s}.apply(b,d))&&(a.exports=e),b.default=s},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(0),f=d(e),g={canvas:new Object,cTest:!1,id:function(a){return document.getElementById(a)},tag:function(a){return document.getElementsByTagName(a)[0]},tags:function(a){return document.getElementsByTagName(a)},add:function(a){return document.createElement(a)},css:function(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d=c.replace(/-(.)/g,function(a,b){return b.toUpperCase()});d="float"===d?"cssFloat":d,a.style[d]=b[c]}},del:function(a){return f.default.isString(a)?g.id(a)&&g.id(a).parentNode.removeChild(g.id(a)):a.parentNode.removeChild(a),!0},addClass:function(a,b){var c=a.getAttribute("class");null===c||void 0===c?a.setAttribute("class",b):c.indexOf(b)<0&&a.setAttribute("class",c+" "+b)},hasClass:function(a,b){if(a){f.default.isString(a)&&(a=g.id(a));for(var c=a.className.split(" "),d=0;d<c.length;d++)if(c[d]===b)return!0;return!1}},removeClass:function(a,b){var c=new RegExp(b,"g"),d=a.getAttribute("class");a.setAttribute("class",d.replace(c,""))},createElement:function(a,b,c,d,e){c=c||-1;var g=document.createElement(a);for(var h in b)b.hasOwnProperty(h)&&("styles"!=h?g.setAttribute(h,b[h]):this.css(g,b.styles));if("top"===d)-1!=c&&(f.default.isString(c)?document.getElementById(c).insertBefore(g,document.getElementById(c).firstChild):c.insertBefore(g,c.firstChild));else if("after"===d){var i=e.nextSibling,j=e.parentNode;i?j.insertBefore(g,i):j.appendChild(g)}else if("before"===d){var k=e.previousSibling,j=e.parentNode;k?j.insertBefore(g,e):j.appendChild(g)}else-1!=c&&(f.default.isString(c)?document.getElementById(c).appendChild(g):c.appendChild(g));return g},clear:function(a){f.default.isString(a)&&(a=a.id(a)),a.innerHTML=""}};b.default=g},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){}Object.defineProperty(b,"__esModule",{value:!0});var f=c(0),g=d(f);e.prototype.on=function(a,b,c){var d,e=a.split(" ");if(g.default.isArray(e))for(var f=0,h=e.length;f<h;f++)this._events||(this._events={}),d=this._events[e[f]]||(this._events[e[f]]=[]),d.push({callback:b,context:c,ctx:c||this});else this._events||(this._events={}),d=this._events[a]||(this._events[a]=[]),d.push({callback:b,context:c,ctx:c||this});return this},e.prototype.once=function(a,b,c){var d=this,e=g.default.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},e.prototype.trigger=function(a){if(!this._events)return this;var b=Array.prototype.slice.call(arguments,1),c=this._events[a],d=this._events.all;return c&&this.triggerEvents(c,b),d&&this.triggerEvents(d,arguments),this},e.prototype.triggerEvents=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},e.prototype.off=function(a,b,c){var d,e,f,h,i,j,k,l;if(!this._events)return this;if(!a&&!b&&!c)return this._events={},this;for(h=a?[a]:g.default.keys(this._events),i=0,j=h.length;i<j;i++)if(a=h[i],f=this._events[a]){if(this._events[a]=d=[],b||c)for(k=0,l=f.length;k<l;k++)e=f[k],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},e.prototype.set=function(a,b){return this[a]===b?this:(this[a]=b,this.trigger("change:"+a,b,this),this)},b.default=e},function(a,b,c){"use strict";(function(a){function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return b?decodeURIComponent(b[1]):void 0}function f(){var b=navigator.userAgent.toLowerCase(),c=b.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],d=navigator.platform.toLowerCase();if(this.ready=!1,this.setSizes=!1,this.mainLoad=!1,this.name="",this.type=!1,this.browser={},this.os={},this.publisher={},this.lang=a.navigator.language.toLowerCase().split("-")[0],1===workspaceProps.locales.length)this.lang=workspaceProps.locales[0];else{var f=k.default.indexOf(workspaceProps.locales,this.lang);this.lang=-1===f?"en":this.lang}this.browser.name="version"===c[1]?c[3]:c[1],this.browser.name="unknown"===this.browser.name?"safari":this.browser.name;var h="ie"==c[1]&&document.documentMode;if(this.browser.version=h||parseFloat("opera"==c[1]&&c[4]?c[4]:c[2]),-1!==g()&&(this.browser={},this.browser.name="ie",this.browser.version=g()),this.browser[this.browser.name]=!0,this.os.name=b.match(/ip(?:ad|od|hone)/)?"ios":b.match(/(?:msie 9)/)?"wphone":(b.match(/(?:webos|android|bada|symbian|palm|blackberry)/)||d.match(/mac|win|linux/)||["other"])[0],this.browser.ie&&(this.os.name="wphone"),this.os[this.os.name]=!0,this.name=b.match(/ipad/)?"ipad":b.match(/ipod/)?"ipod":b.match(/iphone/)?"iphone":b.match(/android/)?"android":d.match(/mac|win|linux/)?"pc":"other",this.browser.ie&&(this.name="wphone"),this.type=b.match(/ipad/)||b.match(/tablet/)?"tablet":"mobile",this.platform={},this.platform.name=b.match(/ip(?:ad|od|hone)/)?"ios":b.match(/(?:msie 9)/)?"wphone":(b.match(/(?:webos|android|bada|symbian|palm|blackberry)/)||d.match(/mac|win|linux/)||["other"])[0],this.browser.ie&&(this.platform.name="wphone"),this.platform[this.platform.name]=!0,this.platform.version=0,this.platform.mac){var i=b.match(/os\sx\s(\d+[\._]*\d*[\._]*\d*)/);this.platform.version="[object Array]"===Object.prototype.toString.call(i)&&i.length>1?i[1].split(/[\._]/):0}else if(this.platform.ios){var i=b.match(/os\s(\d+_*\d*_*\d*)/);this.platform.version="[object Array]"===Object.prototype.toString.call(i)&&i.length>1?i[1].split("_"):0}else if(this.platform.android){var i=b.match(/android\s(\d+\.*\d*\.*\d*)/);this.platform.version="[object Array]"===Object.prototype.toString.call(i)&&i.length>1?i[1].split("."):0}this.device={},this.device.name=b.match(/ipad/)?"ipad":b.match(/ipad/)?"ipad":b.match(/iphone/)?"iphone":b.match(/android/)?"android":d.match(/mac|win|linux/)?"pc":"other",this.browser.ie&&(this.device.name="wphone"),this.device[this.device.name]=!0,this.device.version=this.platform.version[0],this.device.type=b.match(/(mobile\ssafari)|iphone|ipod/)?"mobile":"tablet";try{this.typePreview=e("type")}catch(a){}void 0!==this.typePreview&&(this.os.name="android"===this.name?"android":"ios",this.os[this.os.name]=!0,this.type="android"===this.os.name?"mobile":"ipad"===this.name?"tablet":"mobile",this.publisher.orientation=e("orientation"),this.publisher.isOn=!0);var j=function(){return void 0===window.devicePixelRatio?1:window.devicePixelRatio>1.3?2:1};if(this.os.ios||this.browser.chrome){for(var l=document.getElementsByTagName("meta"),m=0;m<l.length;m++)"viewport"==l[m].name&&document.head.removeChild(l[m]);var n="initial-scale="+1/j()+", maximum-scale="+1/j()+", user-scalable=no, minimal-ui",o=document.createElement("meta");o.name="viewport",o.content=n,document.getElementsByTagName("head")[0].appendChild(o),this._setFrame(),o=null,l=null,n=null}else if(this.os.wphone)for(var l=document.getElementsByTagName("meta"),m=0;m<l.length;m++)"viewport"==l[m].name&&document.head.removeChild(l[m]);else{for(var l=document.getElementsByTagName("meta"),m=0;m<l.length;m++)"viewport"==l[m].name&&document.head.removeChild(l[m]);var n="initial-scale=1, maximum-scale="+1/j()+", minimum-scale="+1/j()+", user-scalable=no, target-densitydpi=device-dpi",o=document.createElement("meta");o.name="viewport",o.content=n,document.getElementsByTagName("head")[0].appendChild(o),this._setFrame(),o=null,l=null,n=null}var p=this;k.default.delay(function(){p.screenWidth=window.innerWidth,p.screenHeight=window.innerHeight,p.orientation=p.getOrientation(),p._setFrame(),p.set("setSizes",!0)},1e3),window.addEventListener("resize",function(){k.default.delay(function(){p.set("screenWidth",window.innerWidth),p.set("screenHeight",window.innerHeight)},200)}),window.addEventListener("orientationchange",function(){k.default.delay(function(){p.set("screenWidth",window.innerWidth),p.set("screenHeight",window.innerHeight)},200)}),this.fullscreen=!1,document.addEventListener("fullscreenchange",function(){p.set("fullscreen",!!document.fullscreenElement)}),document.addEventListener("webkitfullscreenchange",function(){p.set("fullscreen",!!document.webkitFullscreenElement)}),this.on("change:screenHeight",function(){this.platform.ios&&setTimeout(function(){p.set("screenHeight",window.innerHeight)},1e3)},this),this.onOrientationChange=function(){this._setFrame(),(navigator.userAgent.match(/OS 8_\d/i)||navigator.userAgent.match(/OS 9_\d/i)||!this.fullscreen&&(!this.vimeoPlaying||this.youtubePlaying)&&"landscape"===this.orientation&&"mobile"===this.type&&this.os.android)&&this.set("orientation",""),this.set("orientation",this.getOrientation())},this.on("change:screenWidth change:screenHeight",this.onOrientationChange),this.on("change:setSizes change:mainLoad",function(){this.setSizes&&this.mainLoad&&this.set("ready",!0)},this),this.on("change:ready",function(){a.main()},this),c=null,d=null}function g(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var b=navigator.userAgent,c=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}return a}Object.defineProperty(b,"__esModule",{value:!0});var h=c(3),i=d(h),j=c(0),k=d(j),l=c(2),m=d(l);f.prototype=new i.default,f.prototype.constructor=f,f.prototype.getOrientation=function(){return this.screenWidth<=this.screenHeight?"portrait":"landscape"},f.prototype._setFrame=function(){void 0!==this.os&&this.os.wphone||(document.body.style.webkitTransform="translate3d(0,0,0)",navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)&&m.default.css(document.body,{height:window.innerHeight+"px"}),navigator.userAgent.match(/OS 8_\d/i)&&m.default.css(document.body,{height:(window.innerHeight<100?document.documentElement.clientHeight+(window.scrollY<0?window.scrollY:0):window.innerHeight)+"px"}),navigator.userAgent.match(/OS 10|9_\d/i)&&m.default.css(document.body,{height:window.innerHeight+"px"}),window.scrollTo(0,0))};var n=new f;b.default=n}).call(b,c(1))},function(a,b,c){"use strict";(function(a){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(6),f=d(e),g=c(0),h=d(g),i=c(4),j=d(i),k={getMaxZoom:function(a,b,c){return a=a||52e5,Math.sqrt(a/(b*c))}};k.SPLITTERS=[",",";","."," ","?","!","'",'"',"",String.fromCharCode(10),String.fromCharCode(13),String.fromCharCode(8211),String.fromCharCode(8212),String.fromCharCode(8722),String.fromCharCode(8209),String.fromCharCode(8208)],pagesProps.getPageProperty=function(a,b){return void 0===pagesProps.pages[a][b]?pagesProps.pages.defaults[b]:pagesProps.pages[a][b]},pagesProps.getSubstrateURL=function(a,b){var c=k.getNum(a),d=k.format(pagesProps.getPageProperty(a,"substrateFormat"));pagesProps.getPageProperty(a,"zoomFormat");return b=b?"_"+b:"","assets/common/pages/substrates/page"+c+b+d},pagesProps.getTextLayerURL=function(a,b){var c=k.getNum(a),d=pagesProps.getPageProperty(a,"textLayer"),e=k.isSVGSupported()&&pagesProps.getPageProperty(a,"vectorText")&&!pagesProps.getPageProperty(a,"rtlContent")&&!pagesProps.getPageProperty(a,"rasterize");return b=b?"_"+b:"",d?e?"assets/common/pages/vector/"+c+".svg":"assets/common/pages/text/page"+c+b+".png":null},pagesProps.getThURL=function(a){return"assets/common/pages/thumbnails/page"+k.getNum(a)+"_s"+k.format(pagesProps.getPageProperty(a,"thFormat"))},k.isSVGSupported=function(){return!(j.default.platform.ios&&j.default.platform.version[0]<9)&&!(j.default.platform.android&&j.default.platform.version[0]<5)},k.format=function(a){return h.default.isEmpty(a)?"":"."+a},k.getNum=function(a){var b="000"+a;return a>9&&(b="00"+a),a>99&&(b="0"+a),a>999&&(b=""+a),b},k.getPixelRatio=function(){return void 0===window.devicePixelRatio?1:window.devicePixelRatio>1.3?2:1},k.stopScroll=function(a){(0,f.default)(a,{prevent_default:!0}).on("drag",function(){})},k.split=function(a,b){for(var c=a.split(" "),d=[],e=0;e<c.length;e++)c[e].length>=b&&d.push(c[e]);return d},k.isSplitter=function(a){for(var b=0;b<this.SPLITTERS.length;b++)if(a==this.SPLITTERS[b])return!0;return!1},k.screening=function(a){var b=/</gi,c=function(){return"&lt;"};return a.replace(b,c)},k.chunk=function(a,b){return void 0===b&&(b=2),a.match(new RegExp(".{1,"+b+"}","g"))||[]},k.hexToRGB=function(a){function b(a){return"#"==a.charAt(0)?a.substring(1,7):a}return parseInt(b(a).substring(0,2),16)+","+parseInt(b(a).substring(2,4),16)+","+parseInt(b(a).substring(4,6),16)},k.fitScreenSizes=function(a,b,c,d,e){c=c||0;var f=(d||window.innerWidth)-c,g=(e||window.innerHeight)-c,h=f/g,i=a/b,j=h>i?a*g/b:f,k=h>i?g:b*f/a;return j=Math.round(j),k=Math.round(k),{width:j,height:k,paddingTop:(g+c-k)/2,paddingLeft:(f+c-j)/2}},k.loadScript=function(b,c){c=c||function(){};var d=a.document.getElementsByTagName("head")[0],e=a.document.createElement("script");e.type="text/javascript",e.src=b,d.appendChild(e),e.readyState?e.onreadystatechange=function(){"loaded"!==e.readyState&&"complete"!==e.readyState||(e.onreadystatechange=null,c())}:e.onload=function(){c()}},k.downloadFile=function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="arraybuffer",c.onreadystatechange=function(){4===c.readyState&&b&&b(c.response)},c.send(null)},k.getFileSize=function(a,b){var c,d=new XMLHttpRequest;d.open("HEAD",a,!0),d.onreadystatechange=function(){this.readyState===this.DONE&&200===this.status&&(c=this.getResponseHeader("content-length"),b&&b(c))},d.send(null)},k.secondToTimeFormat=function(a){var b=parseInt(a/3600,10)%24,c=parseInt(a/60,10)%60,a=a%60,d="";return b&&(d+=b+"h"),c&&(d+=c+"m"),d+=a+"s"},k.queryString=function(){var a={},b=window.location.search.substring(1);if(""===b)return a;for(var c=b.split("&"),d=0;d<c.length;d++)if(""!==c[d]){var e=c[d].split("=");if(void 0===a[e[0]])a[e[0]]=e[1];else if("string"==typeof a[e[0]]){var f=[a[e[0]],e[1]];a[e[0]]=f}else a[e[0]].push(e[1])}return a}(),b.default=k}).call(b,c(1))},function(a,b,c){"use strict";function d(){if(!e.READY){e.event.determineEventTypes();for(var a in e.gestures)e.gestures.hasOwnProperty(a)&&e.detection.register(e.gestures[a]);e.event.onTouch(e.DOCUMENT,e.EVENT_MOVE,e.detection.detect),e.event.onTouch(e.DOCUMENT,e.EVENT_END,e.detection.detect),e.READY=!0}}Object.defineProperty(b,"__esModule",{value:!0});var e=function a(b,c){return new a.Instance(b,c||{})};e.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},e.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,e.HAS_TOUCHEVENTS="ontouchstart"in window,e.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,e.NO_MOUSEEVENTS=e.HAS_TOUCHEVENTS&&navigator.userAgent.match(e.MOBILE_REGEX),e.EVENT_TYPES={},e.DIRECTION_DOWN="down",e.DIRECTION_LEFT="left",e.DIRECTION_UP="up",e.DIRECTION_RIGHT="right",e.POINTER_MOUSE="mouse",e.POINTER_TOUCH="touch",e.POINTER_PEN="pen",e.EVENT_START="start",e.EVENT_MOVE="move",e.EVENT_END="end",e.DOCUMENT=document,e.plugins={},e.READY=!1,e.Instance=function(a,b){var c=this;return d(),this.element=a,this.enabled=!0,this.options=e.utils.extend(e.utils.extend({},e.defaults),b||{}),this.options.stop_browser_behavior&&e.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),e.event.onTouch(a,e.EVENT_START,function(a){c.enabled&&e.detection.startDetect(c,a)}),this},e.Instance.prototype={on:function(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)this.element.addEventListener(c[d],b,!1);return this},off:function(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)this.element.removeEventListener(c[d],b,!1);return this},trigger:function(a,b){var c=e.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b;var d=this.element;return e.utils.hasParent(b.currentContentElement,d)&&(d=b.currentContentElement),d.dispatchEvent(c),this},enable:function(a){return this.enabled=a,this}};var f=null,g=!1,h=!1;e.event={_bindDom:function(a,b,c){for(var d=b.split(" "),e=0;e<d.length;e++)a.addEventListener(d[e],c,!1)},onTouch:function(a,b,c){var d=this;this._bindDom(a,e.EVENT_TYPES[b],function(i){var j=i.type.toLowerCase();if(!j.match(/mouse/)||!h){(j.match(/touch/)||j.match(/pointerdown/)||j.match(/mouse/)&&1===i.which)&&(g=!0),j.match(/touch|pointer/)&&(h=!0);var k=0;g&&(e.HAS_POINTEREVENTS&&b!=e.EVENT_END?k=e.PointerEvent.updatePointer(b,i):j.match(/touch/)?k=i.touches.length:h||(k=j.match(/up/)?0:1),k>0&&b==e.EVENT_END?b=e.EVENT_MOVE:k||(b=e.EVENT_END),k||null===f?f=i:i=f,c.call(e.detection,d.collectEventData(a,b,i)),e.HAS_POINTEREVENTS&&b==e.EVENT_END&&(k=e.PointerEvent.updatePointer(b,i))),k||(f=null,g=!1,h=!1,e.PointerEvent.reset())}})},determineEventTypes:function(){var a;a=e.HAS_POINTEREVENTS?e.PointerEvent.getEvents():e.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],e.EVENT_TYPES[e.EVENT_START]=a[0],e.EVENT_TYPES[e.EVENT_MOVE]=a[1],e.EVENT_TYPES[e.EVENT_END]=a[2]},getTouchList:function(a){return e.HAS_POINTEREVENTS?e.PointerEvent.getTouchList():a.touches?a.touches:[{identifier:1,pageX:a.pageX,pageY:a.pageY,currentContentElement:a.currentContentElement}]},collectEventData:function(a,b,c){var d=this.getTouchList(c,b),f=e.POINTER_TOUCH;return(c.type.match(/mouse/)||e.PointerEvent.matchType(e.POINTER_MOUSE,c))&&(f=e.POINTER_MOUSE),{center:e.utils.getCenter(d),timeStamp:(new Date).getTime(),currentContentElement:c.currentContentElement,touches:d,eventType:b,pointerType:f,srcEvent:c,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return e.detection.stopDetect()}}}},e.PointerEvent={pointers:{},getTouchList:function(){var a=this,b=[];return Object.keys(a.pointers).sort().forEach(function(c){b.push(a.pointers[c])}),b},updatePointer:function(a,b){return a==e.EVENT_END?this.pointers={}:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b),Object.keys(this.pointers).length},matchType:function(a,b){if(!b.pointerType)return!1;var c={};return c[e.POINTER_MOUSE]=b.pointerType==b.MSPOINTER_TYPE_MOUSE||b.pointerType==e.POINTER_MOUSE,c[e.POINTER_TOUCH]=b.pointerType==b.MSPOINTER_TYPE_TOUCH||b.pointerType==e.POINTER_TOUCH,c[e.POINTER_PEN]=b.pointerType==b.MSPOINTER_TYPE_PEN||b.pointerType==e.POINTER_PEN,c[a]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},e.utils={extend:function(a,b,c){for(var d in b)void 0!==a[d]&&c||(a[d]=b[d]);return a},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){for(var b=[],c=[],d=0,e=a.length;d<e;d++)b.push(a[d].pageX),c.push(a[d].pageY);return{pageX:(Math.min.apply(Math,b)+Math.max.apply(Math,b))/2,pageY:(Math.min.apply(Math,c)+Math.max.apply(Math,c))/2}},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.pageY-a.pageY,d=b.pageX-a.pageX;return 180*Math.atan2(c,d)/Math.PI},getDirection:function(a,b){return Math.abs(a.pageX-b.pageX)>=Math.abs(a.pageY-b.pageY)?a.pageX-b.pageX>0?e.DIRECTION_LEFT:e.DIRECTION_RIGHT:a.pageY-b.pageY>0?e.DIRECTION_UP:e.DIRECTION_DOWN},getDistance:function(a,b){var c=b.pageX-a.pageX,d=b.pageY-a.pageY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==e.DIRECTION_UP||a==e.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(a,b){var c,d=["webkit","khtml","moz","ms","o",""];if(b&&a.style){for(var e=0;e<d.length;e++)for(var f in b)b.hasOwnProperty(f)&&(c=f,d[e]&&(c=d[e]+c.substring(0,1).toUpperCase()+c.substring(1)),a.style[c]=b[f]);"none"==b.userSelect&&(a.onselectstart=function(){return!1})}}},e.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:e.utils.extend({},b),lastEvent:!1,name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);for(var b=this.current.inst.options,c=0,d=this.gestures.length;c<d;c++){var f=this.gestures[c];if(!this.stopped&&!1!==b[f.name]&&!1===f.handler.call(f,a,this.current.inst)){this.stopDetect();break}}return this.current&&(this.current.lastEvent=a),a.eventType==e.EVENT_END&&!a.touches.length-1&&this.stopDetect(),a}},stopDetect:function(){this.previous=e.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(a){var b=this.current.startEvent;if(b&&(a.touches.length!=b.touches.length||a.touches===b.touches)){b.touches=[];for(var c=0,d=a.touches.length;c<d;c++)b.touches.push(e.utils.extend({},a.touches[c]))}var f=a.timeStamp-b.timeStamp,g=a.center.pageX-b.center.pageX,h=a.center.pageY-b.center.pageY,i=e.utils.getVelocity(f,g,h);return e.utils.extend(a,{deltaTime:f,deltaX:g,deltaY:h,velocityX:i.x,velocityY:i.y,distance:e.utils.getDistance(b.center,a.center),angle:e.utils.getAngle(b.center,a.center),direction:e.utils.getDirection(b.center,a.center),scale:e.utils.getScale(b.touches,a.touches),rotation:e.utils.getRotation(b.touches,a.touches),startEvent:b}),a},register:function(a){var b=a.defaults||{};return void 0===b[a.name]&&(b[a.name]=!0),e.utils.extend(e.defaults,b,!0),a.index=a.index||1e3,this.gestures.push(a),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}},e.gestures=e.gestures||{},e.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(a,b){switch(a.eventType){case e.EVENT_START:clearTimeout(this.timer),e.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==e.detection.current.name&&b.trigger("hold",a)},b.options.hold_timeout);break;case e.EVENT_MOVE:a.distance>b.options.hold_threshold&&clearTimeout(this.timer);break;case e.EVENT_END:clearTimeout(this.timer)}}},e.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!1,doubletap_distance:20,doubletap_interval:300},handler:function(a,b){if(a.eventType==e.EVENT_END){var c=e.detection.previous,d=!1;if(a.deltaTime>b.options.tap_max_touchtime||a.distance>b.options.tap_max_distance)return;c&&"tap"==c.name&&a.timeStamp-c.lastEvent.timeStamp<b.options.doubletap_interval&&a.distance<b.options.doubletap_distance&&(b.trigger("doubletap",a),d=!0),d&&!b.options.tap_always||(e.detection.current.name="tap",b.trigger(e.detection.current.name,a))}}},e.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(a,b){if(a.eventType==e.EVENT_END){if(b.options.swipe_max_touches>0&&a.touches.length>b.options.swipe_max_touches)return;(a.velocityX>b.options.swipe_velocity||a.velocityY>b.options.swipe_velocity)&&(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}},e.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:5,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:20,fb_lock_to_axis:!1,fb_lock_min_distance:10,fb_lock_sensitivity:100},triggered:!1,counter:0,fbDirection:"",fbLock:!1,fbNeverLock:!1,saveX:0,saveY:0,handler:function(a,b){if(e.detection.current.name!=this.name&&this.triggered)return b.trigger(this.name+"end",a),void(this.triggered=!1);if(!(b.options.drag_max_touches>0&&a.touches.length>b.options.drag_max_touches))switch(a.eventType){case e.EVENT_START:this.triggered=!1,this.counter=0,this.fbDirection="",this.fbLock=!1,this.fbNeverLock=!1;break;case e.EVENT_MOVE:if(a.distance<b.options.drag_min_distance&&e.detection.current.name!=this.name)return;e.detection.current.name=this.name,(e.detection.current.lastEvent.drag_locked_to_axis||b.options.drag_lock_to_axis&&b.options.drag_lock_min_distance<=a.distance)&&(a.drag_locked_to_axis=!0);var c=e.detection.current.lastEvent.direction;a.drag_locked_to_axis&&c!==a.direction&&(e.utils.isVertical(c)?a.direction=a.deltaY<0?e.DIRECTION_UP:e.DIRECTION_DOWN:a.direction=a.deltaX<0?e.DIRECTION_LEFT:e.DIRECTION_RIGHT),this.triggered||(b.trigger(this.name+"start",a),this.triggered=!0),b.options.fb_lock_to_axis&&(++this.counter,!this.fbNeverLock&&this.counter<=b.options.fb_lock_min_distance&&!this.fbLock?Math.abs(a.deltaX)>b.options.fb_lock_sensitivity&&Math.abs(a.deltaY)<b.options.fb_lock_sensitivity?("v"===this.fbDirection&&(this.fbNeverLock=!0),this.fbDirection="h"):Math.abs(a.deltaX)<b.options.fb_lock_sensitivity&&Math.abs(a.deltaY)>b.options.fb_lock_sensitivity?("h"===this.fbDirection&&(this.fbNeverLock=!0),this.fbDirection="v"):Math.abs(a.deltaX)>b.options.fb_lock_sensitivity&&Math.abs(a.deltaY)>b.options.fb_lock_sensitivity?this.fbNeverLock=!0:""!==this.fbDirection&&(this.fbNeverLock=!0):this.fbNeverLock||this.fbLock||(this.fbLock=!0,this.saveY=a.deltaY,this.saveX=a.deltaX),this.fbLock&&("h"===this.fbDirection?a.deltaY=this.saveY:b.options.drag_block_vertical||(a.deltaX=this.saveX))),b.trigger(this.name,a),b.trigger(this.name+a.direction,a),(b.options.drag_block_vertical&&e.utils.isVertical(a.direction)||b.options.drag_block_horizontal&&!e.utils.isVertical(a.direction))&&a.preventDefault();break;case e.EVENT_END:this.triggered&&b.trigger(this.name+"end",a),this.triggered=!1}}},e.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(a,b){if(e.detection.current.name!=this.name&&this.triggered)return b.trigger(this.name+"end",a),void(this.triggered=!1);if(!(a.touches.length<2))switch(b.options.transform_always_block&&a.preventDefault(),a.eventType){case e.EVENT_START:this.triggered=!1;break;case e.EVENT_MOVE:var c=Math.abs(1-a.scale),d=Math.abs(a.rotation);if(c<b.options.transform_min_scale&&d<b.options.transform_min_rotation)return;e.detection.current.name=this.name,this.triggered||(b.trigger(this.name+"start",a),this.triggered=!0),b.trigger(this.name,a),d>b.options.transform_min_rotation&&b.trigger("rotate",a),c>b.options.transform_min_scale&&(b.trigger("pinch",a),b.trigger("pinch"+(a.scale<1?"in":"out"),a));break;case e.EVENT_END:this.triggered&&b.trigger(this.name+"end",a),this.triggered=!1}}},e.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(a,b){if(b.options.prevent_mouseevents&&a.pointerType==e.POINTER_MOUSE)return void a.stopDetect();b.options.prevent_default&&a.preventDefault(),a.eventType==e.EVENT_START&&b.trigger(this.name,a)}},e.gestures.Release={name:"release",index:1/0,handler:function(a,b){a.eventType==e.EVENT_END&&b.trigger(this.name,a)}},b.default=e},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){var a=1;this.previousPage=new h.Page(a-1),this.currentPage=new h.Page(1*a),this.pagingType=pagesProps.rightToLeft?"rtl":"ltr",this.pageCount=h.pageTable.pageCount}Object.defineProperty(b,"__esModule",{value:!0});var f=c(3),g=d(f),h=c(8),i=c(0),j=d(i);e.prototype=new g.default,e.prototype.constructor=e,e.prototype.tapLeft=function(){this.timing=200,"ltr"===this.pagingType?this._changePageNumber(this.currentPage.number-(this.currentPage.wide&&this.currentPage.number%2!=0?2:1)):this._changePageNumber(this.currentPage.number+(this.currentPage.wide&&this.currentPage.number%2==0?2:1))},e.prototype.tapRight=function(){this.timing=200,"ltr"===this.pagingType?this._changePageNumber(this.currentPage.number+(this.currentPage.wide&&this.currentPage.number%2==0?2:1)):this._changePageNumber(this.currentPage.number-(this.currentPage.wide&&this.currentPage.number%2!=0?2:1))},e.prototype.slideToLeft=function(){this.timing=200,this.tapRight()},e.prototype.slideToRight=function(){this.timing=200,this.tapLeft()},e.prototype.goToPage=function(a,b){return this.timing=void 0===b?200:b,a=parseInt(a),j.default.isNumber(a)&&this._changePageNumber(a),this},e.prototype._changePageNumber=function(a){if(0===a||a>this.pageCount)return this;if(!h.pageTable[a].wide||a%2==0||a-1!==this.currentPage.number){var b="ltr"===this.pagingType?a<this.currentPage.number?"right":"left":a<this.currentPage.number?"left":"right";return this.previousPage=this.currentPage,this.currentPage=new h.Page(a),this.trigger("change:page",this.currentPage,this.timing,b),this}},e.prototype.checkSlide=function(a){var b=this.currentPage.number%2==0&&this.currentPage.wide?parseInt(this.currentPage.number)+2:parseInt(this.currentPage.number)+1;return"rtl"===this.pagingType?("right"!==a||1!==this.currentPage.number)&&!("left"===a&&b>this.pageCount):("left"!==a||1!==this.currentPage.number)&&!("right"===a&&b>this.pageCount)};var k=new e;b.default=k},function(a,b,c){"use strict";(function(a){function d(a){return a&&a.__esModule?a:{default:a}}function e(){var a=1;j.default.each(pagesProps.pages,function(b,c){"defaults"!==c&&"structure"!==c&&(this[a]={number:a,wide:pagesProps.pages[c].wide,caption:pagesProps.pages[c].wide?void 0!==pagesProps.pages[c].displayName?g(a,c):pagesProps.rightToLeft?g(a+1,c)+"-"+g(a,c):g(a,c)+"-"+g(a+1,c):g(a,c)+"",id:parseInt(c)},this[a].url=void 0!==pagesProps.pages[c].urlHeader?pagesProps.pages[c].urlHeader:this[a].caption,a++,pagesProps.pages[c].wide&&(this[a]={number:a,wide:pagesProps.pages[c].wide,caption:pagesProps.pages[c].wide?void 0!==pagesProps.pages[c].displayName?g(a,c):pagesProps.rightToLeft?g(a,c)+"-"+g(a-1,c):g(a-1,c)+"-"+g(a,c):g(a,c)+"",id:parseInt(c)},this[a].url=void 0!==pagesProps.pages[c].urlHeader?pagesProps.pages[c].urlHeader:this[a].caption,a++))},this),this.pageCount=a-1,this.pageCountCaption=void 0!==pagesProps.numerationOffset?pagesProps.numerationOffset>=this.pageCount?this[this.pageCount].caption:this.pageCount-pagesProps.numerationOffset:this.pageCount,this.pageCountCaption=void 0!==pagesProps.customTotalPages?pagesProps.customTotalPages:this.pageCountCaption}function f(a){if(void 0===k[a])return void(this.number=this.caption=this.wide=this.position=!1);this.number=a,this.id=k[a].id,this.url=k[a].url,this.caption=k[a].caption||"",this.wide=k[a].wide||!1,this.position=a%2==0?"left":"right"}function g(a,b){return void 0!==pagesProps.pages[b].displayName?pagesProps.pages[b].displayName:void 0===pagesProps.numerationOffset?a:a<=pagesProps.numerationOffset?h(a):a-1*pagesProps.numerationOffset}function h(a){if(!+a)return!1;for(var b=String(+a).split(""),c=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],d="",e=3;e--;)d=(c[+b.pop()+10*e]||"")+d;return Array(+b.join("")+1).join("M")+d}Object.defineProperty(b,"__esModule",{value:!0}),b.pageTable=b.Page=void 0;var i=c(0),j=d(i);a.Page=f;var k=new e;b.Page=f,b.pageTable=k}).call(b,c(1))},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(4),f=d(e),g=c(18),h=d(g),i={init:function(){switch(f.default.browser.name){case"safari":this.browserPrefix="webkit";break;case"firefox":this.browserPrefix="Moz";break;case"opera":this.browserPrefix="O";break;case"ie":this.browserPrefix="ms";break;case"chrome":this.browserPrefix="webkit"}var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};h.default.prefixed("transition")?this.transEndEventName=a[h.default.prefixed("transition")]:this.transEndEventName=!1},translate:function(a,b,c,d){b=b||"0",c=c||"0",d=d||"0",b+="",c+="",d+="",-1===b.indexOf("%")&&(b+="px"),-1===c.indexOf("%")&&(c+="px"),-1===d.indexOf("%")&&(d+="px"),h.default.csstransforms3d?a.style[this.browserPrefix+"Transform"]="translate3d("+b+","+c+","+d+")":a.style[this.browserPrefix+"Transform"]="translate("+b+", "+c+")"},origin:function(a,b,c){a.style[this.browserPrefix+"TransformOrigin"]=b+"px "+c+"px"},transition:function(a,b,c){c="-"+this.browserPrefix.toLowerCase()+"-"+c||"",a.style[this.browserPrefix+"Transition"]=c+" "+b+"ms"},duration:function(a,b){a.style[this.browserPrefix+"TransitionDuration"]=b+"ms"},delay:function(a,b){a.style[this.browserPrefix+"TransitionDelay"]=b+"ms"},animation:function(a,b,c){a.style[this.browserPrefix+"Animation"]=b+" "+c+"ms"},perspective:function(a,b){a.style[this.browserPrefix+"Transform"]="perspective("+b+")"},scale:function(a,b,c){a=a||0,b=b||0,c=c||0,h.default.csstransforms3d?el.style[this.browserPrefix+"Transform"]="scale3d("+a+","+b+","+c+")":el.style[this.browserPrefix+"Transform"]="scale("+a+","+b+")"},rotate:function(a,b,c,d,e){c=c||0,d=d||0,e=e||0,h.default.csstransforms3d?a.style[this.browserPrefix+"Transform"]="rotate3d("+c+","+d+","+e+","+b+")":a.style[this.browserPrefix+"Transform"]="rotate("+b+")"},backfaceVisibility:function(a,b){a.style[this.browserPrefix+"BackfaceVisibility"]=b},boxShadow:function(a,b){a&&(a.style[this.browserPrefix+"BoxShadow"]=b)},getTransform:function(a){return a.style[this.browserPrefix+"Transform"]},transform:function(a,b,c){a.style[this.browserPrefix+"TransformOrigin"]="0px 0px",a.style[this.browserPrefix+"Transform"]="translate3d("+b+"px,"+c+"px,0px)"},getParseTranslate:function(a){var b=a.style[this.browserPrefix+"Transform"],c=/-*\d+(?=px)|\d+\%/gi,d=b.match(c);return null==d&&(d=[0,0,0]),{x:d[0],y:d[1],z:d[2]}},changeOnlyScale:function(a,b,c,d){var e=/translate3d\([A-Za-z0-9_, ]*\)/i,f=a.style[this.browserPrefix+"Transform"].match(e);null===f&&(f=""),a.style[this.browserPrefix+"Transform"]=f+" scale3d("+b+","+c+","+d+")"}},j=i;j.init(),b.default=j},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){switch(a=a||"catalog"){case"catalog":case"magazine":this.portrait="fitScreen",this.landscape="fitScreen",this.widePageTablet=1,this.widePageMobile=.5,this.zoomLevel=1,this.zoomSave=!1,this.field=!0;break;case"book":case"document":this.portrait="fitScreen",this.landscape="fitScreen",this.widePageTablet=1,this.widePageMobile=1,this.zoomLevel=1,this.zoomSave=!0,this.field=!0;break;case"photo_album":this.portrait="fitScreen",this.landscape="fitScreen",this.widePageTablet=1,this.widePageMobile=1,this.zoomLevel=1,this.zoomSave=!1,this.field=!1;break;case"presentation":default:this.portrait="fitScreen",this.landscape="fitScreen",this.widePageTablet=1,this.widePageMobile=1,this.zoomLevel=1,this.zoomSave=!1,this.field=!0}}Object.defineProperty(b,"__esModule",{value:!0});var f=c(4),g=d(f),h=c(7),i=d(h),j=c(2),k=d(j);e.prototype.getFit=function(){return g.default.screenWidth>g.default.screenHeight?this.landscape:this.portrait},e.prototype.getWideFactor=function(){return"tablet"===g.default.type?this.widePageTablet:this.widePageMobile},e.prototype.getRect=function(a,b,c){var d=pagesProps.getPageProperty(a,"width"),e=pagesProps.getPageProperty(a,"height"),f=pagesProps.bookSize.width,h=pagesProps.bookSize.height,j=this.zoomSave?this.zoomLevel:1,k=this.getWideFactor();a===i.default.currentPage.id&&(j=this.zoomLevel),void 0!==b&&(j=b),pagesProps.pages[a].wide&&(d*=k,f=2*f*k);var n,o,p={};return void 0!==c?(n=l(f,h,1,c.width,c.height),n.height=pagesProps.pages[a].wide&&"tablet"!==g.default.type?n.height/2:n.height,d=pagesProps.pages[a].wide&&"tablet"!==g.default.type?2*d:d,o=l(d,e,1,n.width,n.height),p.pageWidth=n.width,p.pageHeight=n.height,p.ratio=o.ratio,p.contentWidth=o.width,p.contentHeight=o.height,p.padding=[(p.pageHeight-p.contentHeight)/2,(n.width-p.contentWidth)/2],pagesProps.pages[a].wide?(p.thPageWidth=p.pageWidth,p.thPageHeight=2*p.pageHeight,p.thPadding=[(p.thPageHeight-p.pageHeight)/2,0]):(p.thPageWidth=p.pageWidth,p.thPageHeight=p.pageHeight,p.thPadding=[0,0]),this.field||(p.thPageWidth=p.pageWidth,p.thPageHeight=p.pageHeight,p.thPadding=[(p.thPageHeight-p.contentHeight)/2,(p.thPageWidth-p.contentWidth)/2],p.pageWidth=p.contentWidth,p.pageHeight=p.contentHeight,p.padding=[0,0])):this.field?(n="fitScreen"===this.getFit()||"ipad"===g.default.name&&pagesProps.pages[a].wide?l(f,h,j):m(f,h,j),n.width=pagesProps.pages[a].wide&&"tablet"!==g.default.type?2*n.width:n.width,d=pagesProps.pages[a].wide&&"tablet"!==g.default.type?2*d:d,o=l(d,e,1,n.width,n.height),p.pageWidth=n.width,p.pageHeight=n.height,p.ratio=o.ratio,p.contentWidth=o.width,p.contentHeight=o.height,p.padding=[(p.pageHeight-p.contentHeight)/2,(n.width-p.contentWidth)/2]):(o="fitScreen"===this.getFit()?l(d,e,j):m(d,e,j),p.pageWidth=p.contentWidth=o.width,p.pageHeight=p.contentHeight=o.height,p.padding=[0,0],p.ratio=o.ratio),p},e.prototype.setZoomLevel=function(a){var b=this.getRect(i.default.currentPage.id,1);this.zoomLevel=a.width/b.pageWidth,this.zoomLevel=this.zoomLevel<1?1:this.zoomLevel},e.prototype.resetZoomLevel=function(){this.zoomSave||(this.zoomLevel=1)};var l=function(a,b,c,d,e){var f=d||window.innerWidth,g=k.default.id("bannerNotice");if(g)var h=g.getBoundingClientRect(),i=h.height,j=e||window.innerHeight-2-i;else var j=e||window.innerHeight-2;var l=f/j,m=a/b,n=l>m?a*j/b:f,o=l>m?j:b*f/a;return n=Math.round(n*c),o=Math.round(o*c),{width:n,height:o,ratio:n/a}},m=function(a,b,c){var d=window.innerWidth,e=d,f=b*d/a;return e=Math.round(e*c),f=Math.round(f*c),{width:e,height:f,ratio:e/a}},n=new e;b.default=n},function(a,b,c){"use strict";!function(b,c,d){function e(a,b){this.wrapper="string"==typeof a?c.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var d in b)this.options[d]=b[d];this.translateZ=this.options.HWCompositing&&g.hasPerspective?" translateZ(0)":"",this.options.useTransition=g.hasTransition&&this.options.useTransition,this.options.useTransform=g.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?g.ease[this.options.bounceEasing]||g.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}var f=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(a){b.setTimeout(a,1e3/60)},g=function(){function a(a){return!1!==g&&(""===g?a:g+a.charAt(0).toUpperCase()+a.substr(1))}var e={},f=c.createElement("div").style,g=function(){for(var a=["t","webkitT","MozT","msT","OT"],b=0,c=a.length;b<c;b++)if(a[b]+"ransform"in f)return a[b].substr(0,a[b].length-1);return!1}();e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(a,b){for(var c in b)a[c]=b[c]},e.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},e.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},e.momentum=function(a,b,c,e,f,g){var h,i,j=a-b,k=d.abs(j)/c;return g=void 0===g?6e-4:g,h=a+k*k/(2*g)*(j<0?-1:1),i=k/g,h<e?(h=f?e-f/2.5*(k/8):e,j=d.abs(h-a),i=j/k):h>0&&(h=f?f/2.5*(k/8):0,j=d.abs(a)+h,i=j/k),{destination:d.round(h),duration:i}};var h=a("transform");return e.extend(e,{hasTransform:!1!==h,hasPerspective:a("perspective")in f,hasTouch:"ontouchstart"in b,hasPointer:navigator.msPointerEnabled,hasTransition:a("transition")in f}),e.isBadAndroid=/Android /.test(b.navigator.appVersion)&&!/Chrome\/\d/.test(b.navigator.appVersion),e.extend(e.style={},{transform:h,transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),transitionDelay:a("transitionDelay"),transformOrigin:a("transformOrigin")}),e.hasClass=function(a,b){return new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},e.addClass=function(a,b){if(!e.hasClass(a,b)){var c=a.className.split(" ");c.push(b),a.className=c.join(" ")}},e.removeClass=function(a,b){if(e.hasClass(a,b)){var c=new RegExp("(^|\\s)"+b+"(\\s|$)","g");a.className=a.className.replace(c," ")}},e.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},e.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return d.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22;return 0===a?0:1==a?1:.4*d.pow(2,-10*a)*d.sin((a-b/4)*(2*d.PI)/b)+1}}}),e.tap=function(a,b){var d=c.createEvent("Event");d.initEvent(b,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},e.click=function(a){var b,d=a.target;/(SELECT|INPUT|TEXTAREA)/i.test(d.tagName)||(b=c.createEvent("MouseEvents"),b.initMouseEvent("click",!0,!0,a.view,1,d.screenX,d.screenY,d.clientX,d.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),b._constructed=!0,d.dispatchEvent(b))},e}();e.prototype={version:"5.1.1",_init:function(){this._initEvents()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if((1==g.eventType[a.type]||0===a.button)&&this.enabled&&(!this.initiated||g.eventType[a.type]===this.initiated)){!this.options.preventDefault||g.isBadAndroid||g.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var b,c=a.touches?a.touches[0]:a;this.initiated=g.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=g.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,b=this.getComputedPosition(),this._translate(d.round(b.x),d.round(b.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=c.pageX,this.pointY=c.pageY,this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&g.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b,c,e,f,h=a.touches?a.touches[0]:a,i=h.pageX-this.pointX,j=h.pageY-this.pointY,k=g.getTime();if(this.pointX=h.pageX,this.pointY=h.pageY,this.distX+=i,this.distY+=j,e=d.abs(this.distX),f=d.abs(this.distY),!(k-this.endTime>300&&e<10&&f<10)){if(this.directionLocked||this.options.freeScroll||(e>f+this.options.directionLockThreshold?this.directionLocked="h":f>=e+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);j=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);i=0}i=this.hasHorizontalScroll?i:0,j=this.hasVerticalScroll?j:0,b=this.x+i,c=this.y+j,(b>0||b<this.maxScrollX)&&(b=this.options.bounce?this.x+i/3:b>0?0:this.maxScrollX),(c>0||c<this.maxScrollY)&&(c=this.options.bounce?this.y+j/3:c>0?0:this.maxScrollY),this.directionX=i>0?-1:i<0?1:0,this.directionY=j>0?-1:j<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(b,c),k-this.startTime>300&&(this.startTime=k,this.startX=this.x,this.startY=this.y)}}},_end:function(a){if(this.enabled&&g.eventType[a.type]===this.initiated){this.options.preventDefault&&!g.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b,c,e=(a.changedTouches&&a.changedTouches[0],g.getTime()-this.startTime),f=d.round(this.x),h=d.round(this.y),i=d.abs(f-this.startX),j=d.abs(h-this.startY),k=0,l="";if(this.isInTransition=0,this.initiated=0,this.endTime=g.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(f,h),!this.moved)return this.options.tap&&g.tap(a,this.options.tap),this.options.click&&g.click(a),void this._execEvent("scrollCancel");if(this._events.flick&&e<200&&i<100&&j<100)return void this._execEvent("flick");if(this.options.momentum&&e<300&&(b=this.hasHorizontalScroll?g.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:f,duration:0},c=this.hasVerticalScroll?g.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:h,duration:0},f=b.destination,h=c.destination,k=d.max(b.duration,c.duration),this.isInTransition=1),f!=this.x||h!=this.y)return(f>0||f<this.maxScrollX||h>0||h<this.maxScrollY)&&(l=g.ease.quadratic),void this.scrollTo(f,h,k,l);this._execEvent("scrollEnd")}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),(b!=this.x||c!=this.y)&&(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=g.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;b<c;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||g.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,c,e,f){if(a=a.nodeType?a:this.scroller.querySelector(a)){var h=g.offset(a);h.left-=this.wrapperOffset.left,h.top-=this.wrapperOffset.top,!0===c&&(c=d.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===e&&(e=d.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),h.left-=c||0,h.top-=e||0,h.left=h.left>0?0:h.left<this.maxScrollX?this.maxScrollX:h.left,h.top=h.top>0?0:h.top<this.maxScrollY?this.maxScrollY:h.top,b=void 0===b||null===b||"auto"===b?d.max(d.abs(this.x-h.left),d.abs(this.y-h.top)):b,this.scrollTo(h.left,h.top,b,f)}},_transitionTime:function(a){a=a||0,this.scrollerStyle[g.style.transitionDuration]=a+"ms",!a&&g.isBadAndroid&&(this.scrollerStyle[g.style.transitionDuration]="0.001s")},_transitionTimingFunction:function(a){this.scrollerStyle[g.style.transitionTimingFunction]=a},_translate:function(a,b){this.options.useTransform?this.scrollerStyle[g.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=d.round(a),b=d.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b},_initEvents:function(a){var c=a?g.removeEvent:g.addEvent,d=this.options.bindToWrapper?this.wrapper:b;c(b,"orientationchange",this),c(b,"resize",this),this.options.click&&c(this.wrapper,"click",this,!0),this.options.disableMouse||(c(this.wrapper,"mousedown",this),c(d,"mousemove",this),c(d,"mousecancel",this),c(d,"mouseup",this)),g.hasPointer&&!this.options.disablePointer&&(c(this.wrapper,"MSPointerDown",this),c(d,"MSPointerMove",this),c(d,"MSPointerCancel",this),c(d,"MSPointerUp",this)),g.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,"touchstart",this),c(d,"touchmove",this),c(d,"touchcancel",this),c(d,"touchend",this)),c(this.scroller,"transitionend",this),c(this.scroller,"webkitTransitionEnd",this),c(this.scroller,"oTransitionEnd",this),c(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var a,c,d=b.getComputedStyle(this.scroller,null);return this.options.useTransform?(d=d[g.style.transform].split(")")[0].split(", "),a=+(d[12]||d[4]),c=+(d[13]||d[5])):(a=+d.left.replace(/[^-\d.]/g,""),c=+d.top.replace(/[^-\d.]/g,"")),{x:a,y:c}},_animate:function(a,b,c,d){function e(){var m,n,o,p=g.getTime();if(p>=l)return h.isAnimating=!1,h._translate(a,b),void(h.resetPosition(h.options.bounceTime)||h._execEvent("scrollEnd"));p=(p-k)/c,o=d(p),m=(a-i)*o+i,n=(b-j)*o+j,h._translate(m,n),h.isAnimating&&f(e)}var h=this,i=this.x,j=this.y,k=g.getTime(),l=k+c;this.isAnimating=!0,e()},handleEvent:function(a){switch(a.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"keydown":this._key(a);break;case"click":a._constructed||(a.preventDefault(),a.stopPropagation())}}},e.utils=g,void 0!==a&&a.exports?a.exports=e:b.IScroll=e}(window,document,Math)},,function(a,b,c){"use strict";(function(a){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0}),b.Events=b.fbUtils=b._=b.main=void 0;var e=c(2),f=d(e),g=c(5),h=d(g),i=c(0),j=d(i),k=c(14),l=d(k),m=c(4),n=d(m),o=c(15),p=d(o),q=c(16),r=d(q),s=c(24),t=d(s),u=c(7),v=d(u),w=c(25),x=d(w),y=c(8),z=c(3),A=d(z),B=function(){(0,p.default)();var b=function(){if(void 0===a.shopId&&(a.shopId=""),!f.default.id("mainFrame")){f.default.createElement("div",{id:"mainFrame",class:"mainFrame"},"mainContainer"),PUBL&&(a.system=a.device,l.default.load(["static/mobile/default/publNotify2"],function(){})),a.workspace=new r.default;var b=new t.default;b.on("change:hash",v.default.goToPage,v.default),a.slider=new x.default,slider.on("th:open",function(){workspace.trigger("th:openFromSlide")}),a.workspace.on("ecProduct:hide",b.cutEC,b),a.workspace.on("publication:opened",function(){document.body.setAttribute("data-status","loaded")}),v.default.on("change:page",b.route,slider),v.default.on("change:page",slider.goToPage,slider),!j.default.isUndefined(h.default.queryString.search)&&workspaceProps.search.enabled&&workspace.bindSearchMenu(decodeURIComponent(h.default.queryString.search));var c=a.eventsApi||new A.default,d=!1,e=!1,g=function(){return{version:"mobile",locale:n.default.lang,leftPageNumber:v.default.currentPage.number,leftPageCaption:v.default.currentPage.caption,leftPageUrl:v.default.currentPage.url,rightPageNumber:v.default.currentPage.number,rightPageCaption:v.default.currentPage.caption,rightPageUrl:v.default.currentPage.url,isWide:v.default.currentPage.wide,isZoomed:e,pageIndex:v.default.currentPage.number-1}};c.addMethod("getState",function(){return g()}),c.addMethod("getProperty",function(b){switch(b){case"pages":return a.pagesProps;case"workspace":return a.workspaceProps;default:throw new Error("Publication does not have this property: "+b)}}),b.on("init",function(){c.trigger("init",g()),d=!0}),a.workspace.on("publication:opened",function(){c.trigger("timing",{type:"publicationOpened"})}),slider.on("zoom:out",function(a){e=!1,c.trigger("unzoomed",{pageNumber:a.number,pageCaption:a.caption,rightPageUrl:a.url,leftPageUrl:a.url,pageUrl:a.url})}),slider.on("zoom:in",function(a){e=!0,c.trigger("zoomed",{pageNumber:a.number,pageCaption:a.caption,rightPageUrl:a.url,leftPageUrl:a.url,pageUrl:a.url})}),a.workspace.on("zoom:block",function(a){e=!0,c.trigger("zoomBlock",{leftPageNumber:a.number,leftPageCaption:a.caption,leftPageUrl:a.url,rightPageNumber:a.number,rightPageCaption:a.caption,rightPageUrlCaption:a.url})},this),v.default.on("change:page",function(a){e=!1,d&&(c.trigger("turned",g()),c.trigger("bookStateChanged",g()))},this),a.workspace.on("leftMenu:show",function(){a.workspaceProps.toc&&a.workspaceProps.toc.enabled&&c.trigger("window",{action:"open",component:"toc"}),a.workspaceProps.downloads&&a.workspaceProps.downloads.enabled&&c.trigger("window",{action:"open",component:"download"})}),a.workspace.on("leftMenu:hide",function(){a.workspaceProps.toc&&a.workspaceProps.toc.enabled&&c.trigger("window",{action:"close",component:"toc"}),a.workspaceProps.downloads&&a.workspaceProps.downloads.enabled&&c.trigger("window",{action:"close",component:"download"})}),a.workspace.on("link:internal",function(a,b,d){c.trigger("link",{type:"internal",pageToUrl:y.pageTable[a].url,pageUrl:y.pageTable[b].url,source:d})}),a.workspace.on("link:external",function(a,b,d,e){c.trigger("link",{type:"external",target:b,url:a,source:e,pageUrl:y.pageTable[d].url})}),a.workspace.on("download",function(a,b){c.trigger("download",{url:a,option:b,leftPageNumber:v.default.currentPage.number,leftPageCaption:v.default.currentPage.caption,leftPageUrl:v.default.currentPage.url,rightPageNumber:v.default.currentPage.number,rightPageCaption:v.default.currentPage.caption,rightPageUrl:v.default.currentPage.url,isWide:v.default.currentPage.wide,isZoomed:e})}),a.workspace.on("bookmark:add",function(a){c.trigger("bookmark",{action:"add",pageNumber:a,pageUrl:y.pageTable[a].url})}),a.workspace.on("bookmark:del",function(a){c.trigger("bookmark",{action:"delete",pageNumber:a,pageUrlCaption:y.pageTable[a].url})}),a.workspace.on("th:open",function(){c.trigger("window",{action:"open",component:"thumbnails"})}),a.workspace.on("th:close",function(){c.trigger("window",{action:"close",component:"thumbnails"})}),a.workspace.on("share:open",function(){c.trigger("window",{action:"open",component:"share"})}),a.workspace.on("share:close",function(){c.trigger("window",{action:"close",component:"share"})}),a.workspace.on("search:open",function(){c.trigger("window",{action:"open",component:"search"})}),a.workspace.on("search:close",function(){c.trigger("window",{action:"close",component:"search"})}),a.workspace.on("search:empty",function(a){c.trigger("search",{query:a,success:!1,leftPageNumber:v.default.currentPage.number,leftPageCaption:v.default.currentPage.caption,leftPageUrl:v.default.currentPage.url,rightPageNumber:v.default.currentPage.number,rightPageCaption:v.default.currentPage.caption,rightPageUrl:v.default.currentPage.url,isWide:v.default.currentPage.wide,isZoomed:e})}),a.workspace.on("search:done",function(a,b){c.trigger("search",{query:a,success:!0,leftPageNumber:v.default.currentPage.number,leftPageCaption:v.default.currentPage.caption,leftPageUrl:v.default.currentPage.url,rightPageNumber:v.default.currentPage.number,rightPageCaption:v.default.currentPage.caption,rightPageUrl:v.default.currentPage.url,isWide:v.default.currentPage.wide,isZoomed:e,quantity:b})}),a.workspace.on("product:open",function(){c.trigger("window",{action:"open",component:"product"})}),a.workspace.on("product:close",function(){c.trigger("window",{action:"close",component:"product"})}),a.workspace.on("share:facebook",function(a){c.trigger("share",{service:"facebook",url:a})}),a.workspace.on("share:twitter",function(a){c.trigger("share",{service:"twitter",url:a})}),a.workspace.on("share:linkedin",function(a){c.trigger("share",{service:"linkedin",url:a})}),a.workspace.on("share:tumblr",function(a){c.trigger("share",{service:"tumblr",url:a})}),a.workspace.on("share:vk",function(a){c.trigger("share",{service:"vk",url:a})}),a.workspace.on("share:mail",function(a){c.trigger("share",{service:"email",url:a})}),a.workspace.on("share:google",function(a){c.trigger("share",{service:"google+",url:a})}),a.workspace.on("video:publisher",function(a){c.trigger("video",{action:"publisher",url:a})}),a.workspace.on("video:play",function(a,b){c.trigger("video",{action:"play",url:a,time:b.toFixed(0)})}),a.workspace.on("video:pause",function(a,b){c.trigger("video",{action:"pause",url:a,time:b.toFixed(0)})}),a.workspace.on("video:stop",function(a,b){c.trigger("video",{action:"stop",url:a,time:b.toFixed(0)})}),a.workspace.on("video:seekTo",function(a,b){c.trigger("video",{action:"seekTo",url:a,time:b.toFixed(0)})}),j.default.delay(function(){"function"==typeof a.rendererReady&&a.rendererReady(a.workspace),a.workspace.trigger("publication:opened"),n.default.platform.ios&&1472===a.innerWidth&&a.scrollTo(0,1)},500)}};j.default.defer(function(){l.default.load(["static/mobile/locals/"+n.default.lang+"/textlang"],b)})};a.main=B,n.default.set("mainLoad",!0),window.localPending=function(){},b.main=B,b._=j.default,b.fbUtils=h.default,b.Events=A.default}).call(b,c(1))},function(a,b,c){"use strict";(function(a){function c(a){this.basePath=a||"",this.numLoads=0,this.numMods=0,this.head=document.getElementsByTagName("head")[0]}function d(b,c,d){b=a.FbRouter.translatePath(b),c(!PUBL||DEBUG_MODE||void 0!==d&&!d?b.replace(/([^:]\/)\/+/g,"$1"):b)}Object.defineProperty(b,"__esModule",{value:!0}),c.prototype.load=function(a,b,c){function e(a){g(a)}var f=this;b=b||function(){},c=c||function(){},f.numLoads=0;var g=function(a){var e=document.createElement("script");e.type="text/javascript",e.charset="utf-8",e.async=!1,e.addEventListener("load",function(){++f.numLoads===f.numMods&&setTimeout(function(){"[object Function]"===Object.prototype.toString.call(b)?b.call():console.log("FBRequire error: callback function is not a function. Callback:"+b)},1)}),e.addEventListener("error",function(){"[object Function]"===Object.prototype.toString.call(c)?c.call():console.log("FBRequire error: errBack function is not a function. errBack:"+b)}),d(a,function(a){e.src=a},-1===a.indexOf("static")&&-1===a.indexOf("cloudfront.net")),f.head.appendChild(e)};if("[object Array]"===Object.prototype.toString.call(a)){f.numMods=a.length;for(var h=0;h<a.length;h++)e(a[h]+(DEBUG_MODE?".js?"+(new Date).getTime():".js"))}else f.numMods=1,e(a+(DEBUG_MODE?".js?"+(new Date).getTime():".js"))},c.prototype.loadCSS=function(a,b){var c=this;this.endOfLoads=document.styleSheets.length+a.length,b=b||function(){};var e=function(a){var b=document.createElement("link");b.type="text/css",b.rel="stylesheet",d(a,function(a){b.href=a},-1===a.indexOf("static")),c.head.appendChild(b)},f=function(){var a=setInterval(function(){c.endOfLoads===document.styleSheets.length&&(b.call(),clearInterval(a))},20)};if("[object Array]"===Object.prototype.toString.call(a))for(var g=0;g<a.length;g++)e(a[g]+".css");else e(a+".css");f()},a.changeUrlWhenPubl=d;var e=new c;if(DEBUG_MODE){var f=function(){var b=new XMLHttpRequest;b.open("GET",a.FbRouter.translatePath("static/mobile/javascript/!units.xml?"+Math.random()),!1);var c=[];b.onreadystatechange=function(){if(4===b.readyState){if(200!==b.status&&0!==b.status)throw"Status is "+b.status;for(var d=b.responseXML,f=d.documentElement.getElementsByTagName("Unit")[0].getElementsByTagName("Source"),g=0;g<f.length;g++){var h=f[g];c.push(a.FbRouter.translatePath("static/mobile/javascript/"+h.getAttribute("FileName").replace(".js","")))}(function a(){c.length>0&&e.load(c.shift(),a)})()}},b.send(null)};"undefined"==typeof publicationData?e.load(["assets/mobile/properties"],f):f()}b.default=e}).call(b,c(1))},function(a,b,c){"use strict";(function(a){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});var e=c(2),f=d(e),g=function(){var b=document.body,c=document.head;b.innerHTML="",f.default.createElement("meta",{"http-equiv":"Cache-Control",content:"no-cache"},c),f.default.createElement("meta",{name:"HandheldFriendly",content:"True"},c),f.default.createElement("meta",{name:"apple-mobile-web-app-capable",content:"yes"},c),f.default.createElement("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"},c),f.default.createElement("link",{rel:"apple-touch-icon",href:a.FbRouter.translatePath("assets/cover300.jpg")},c);var d=f.default.createElement("div",{id:"mainFlow",class:"mainFlow"},b),e=f.default.createElement("div",{id:"mainContainer",class:"mainContainer"},d),g=f.default.createElement("div",{id:"topToolbar",class:"topToolbar"},e);f.default.createElement("span",{class:"icon fb-icon-menu",id:"tocButton"},g);f.default.createElement("h3",{class:"topToolbarLabel"},g).innerHTML=PUBLICATION_NAME,f.default.createElement("span",{id:"searchButton",class:"icon fb-icon-search"},g);var h=f.default.createElement("div",{id:"bottomToolbar",class:"bottomToolbar"},e),i=f.default.createElement("div",{class:"bottomButtonsToolbar"},h),j=(f.default.createElement("span",{id:"thButton",class:"icon fb-icon-th"},i),f.default.createElement("p",{class:"bottomPagerLabel",id:"bottomPagerLabel"},i)),k=f.default.createElement("a",{id:"logoLink"},i);f.default.createElement("span",{class:"logo-mobile"},k);j.innerHTML='<span id="pageLabel"></span> <span id="currentPageLabel"></span><span id="pageCountLabel"></span>'};b.default=g}).call(b,c(1))},function(a,b,c){"use strict";(function(a){function d(a){return a&&a.__esModule?a:{default:a}}function e(){var a=this;if(this.toolbarVisible=!1,this.leftMenuVisible=!1,this.rotateMsgVisible=!1,this.landscapeIncompatible=!1,workspaceProps.downloads.enabled&&(workspaceProps.downloads.enabled=!!workspaceProps.downloads.url||workspaceProps.downloads.customFiles&&workspaceProps.downloads.customFiles.length>0),this.toolbarsAutoHideTimer=!1,i.default.on("change:page",function(){if(!this.toolbarsAutoHideTimer&&this.toolbarVisible){this.toolbarsAutoHideTimer=!0;var a=this;setTimeout(function(){a.toolbarsAutoHideTimer&&a.hideToolbar()},5e3)}},this),this.mainContainer=k.default.id("mainContainer"),this.bindToolbars(),this.bindWorkspaceEvents(),this.bindPager(),this.bindLeftMenu(),workspaceProps.search.enabled?this.bindSearchMenu():k.default.css(k.default.id("searchButton"),{display:"none"}),this.bindThMenu(),workspaceProps.cookieNotice&&workspaceProps.cookieNotice.enabled){(function(){if(!window.localStorage||"true"!==window.localStorage.getItem("fb_cookieNotice_dismissed")){var b=k.default.id("mainFlow");k.default.addClass(b,"banner-shown"),a.banner=k.default.createElement("div",{id:"bannerNotice",class:"banner-notice"},b);var c;workspaceProps.cookieNotice.link?(c=LOCALS.COOKIE_POLICY_NOTICE,c=c.replace(/href="(.*?)"/,'href="'+workspaceProps.cookieNotice.link+'"')):c=LOCALS.COOKIE_POLICY_NOTICE;var d=k.default.createElement("div",{class:"notice-text"},a.banner),e=k.default.createElement("div",{class:"close-button"},a.banner);d.innerHTML=c,new D.default(e,{}).on("tap",function(){window.localStorage&&window.localStorage.setItem("fb_cookieNotice_dismissed","true"),k.default.removeClass(b,"banner-shown"),k.default.del(a.banner),a.trigger("banner:close")})}})()}if(workspaceProps.toc&&workspaceProps.toc.children&&!(workspaceProps.toc.children.length<1)&&!1!==workspaceProps.toc.enabled||workspaceProps.bookmarks&&workspaceProps.bookmarks.enabled||workspaceProps.downloads&&workspaceProps.downloads.enabled){var b=k.default.id("mainFlow"),c=k.default.createElement("div",{id:"leftMenuWrapper",class:"leftMenuWrapper"},b);if(k.default.createElement("ul",{class:"leftMenu",id:"leftMenu"},c),this.banner){var d=this.banner.getBoundingClientRect();c.style.top=d.height+"px",this.once("banner:close",function(){c.style.top="0px"})}this.iScrollLeftMenu=new p.default(c),workspaceProps.downloads.enabled&&this.bindDownloads(),workspaceProps.toc&&workspaceProps.toc.children&&!(workspaceProps.toc.children.length<1)&&!1!==workspaceProps.toc.enabled||workspaceProps.downloads&&workspaceProps.downloads.enabled||k.default.css(k.default.id("tocButton"),{display:"none"}),workspaceProps.toc&&workspaceProps.toc.children&&workspaceProps.toc.children.length>0&&!1!==workspaceProps.toc.enabled&&this.bindTOC(),workspaceProps.bookmarks&&workspaceProps.bookmarks.enabled||(this.on("leftMenu:show",this.showLeftMenu,this),this.on("leftMenu:hide",this.hideLeftMenu,this)),t.default.on("change:orientation",function(){if(a.banner){var b=this.banner.getBoundingClientRect();c.style.top=b.height+"px"}a.landscapeIncompatible&&this._showRotateMessage.call(this)},this),this._checkLandscapeCapability(),this.showToolbar()}else k.default.css(k.default.id("tocButton"),{display:"none"})}Object.defineProperty(b,"__esModule",{value:!0});var f=c(3),g=d(f),h=c(7),i=d(h),j=c(2),k=d(j),l=c(5),m=d(l),n=c(8),o=c(11),p=d(o),q=c(17),r=d(q),s=c(4),t=d(s),u=c(19),v=d(u),w=c(9),x=d(w),y=c(20),z=d(y),A=c(21),B=d(A),C=c(6),D=d(C),E=c(22),F=d(E),G=c(0),H=d(G);e.prototype=new g.default,e.prototype.constructor=e,e.prototype.bindToolbars=function(){var a=this;this.topToolbar=k.default.id("topToolbar"),this.bottomToolbar=k.default.id("bottomToolbar"),this.logoLink=k.default.id("logoLink"),workspaceProps.logoLink&&workspaceProps.logoLink.url&&-1!==workspaceProps.logoLink.url.toLowerCase().indexOf("flippingbook.com")?(this.logoLink.href=workspaceProps.logoLink.url,this.logoLink.target=workspaceProps.logoLink.target,(0,D.default)(this.logoLink,{prevent_default:!0}).on("tap",function(){a.logoLink.click()})):k.default.css(this.logoLink,{display:"none"})},e.prototype.bindWorkspaceEvents=function(){m.default.stopScroll(this.topToolbar),m.default.stopScroll(this.bottomToolbar),(0,D.default)(this.topToolbar,{prevent_default:!0}).on("tap",function(a){a.stopPropagation()}),(0,D.default)(this.bottomToolbar,{prevent_default:!0}).on("tap",function(a){a.stopPropagation()});var a=!1,b=this,c=function(a){if(b.leftMenuVisible)return void b.toggleLeftMenu();b.toggleToolbar()};(0,D.default)(k.default.id("mainContainer"),{prevent_default:!0,tap_always:!1}).on("tap doubletap",function(d){"doubletap"===d.type&&(a=!0),"tap"===d.type&&setTimeout(function(){if(a)return void(a=!1);c.call(b,d),a=!1},250)})},e.prototype.showToolbar=function(){this.toolbarVisible||this.rotateMsgVisible||(this.toolbarVisible=!0,x.default.duration(k.default.id("topToolbar"),250),x.default.delay(k.default.id("topToolbar"),250),x.default.translate(k.default.id("topToolbar")),x.default.duration(k.default.id("bottomToolbar"),250),x.default.delay(k.default.id("bottomToolbar"),0),x.default.translate(k.default.id("bottomToolbar")))},e.prototype.hideToolbar=function(){this.toolbarVisible&&(this.toolbarsAutoHideTimer=!1,this.toolbarVisible=!1,x.default.duration(k.default.id("topToolbar"),250),x.default.delay(k.default.id("topToolbar"),0),x.default.translate(k.default.id("topToolbar"),0,-88*m.default.getPixelRatio()),x.default.duration(k.default.id("bottomToolbar"),250),x.default.delay(k.default.id("bottomToolbar"),250),x.default.translate(k.default.id("bottomToolbar"),0,88*m.default.getPixelRatio()))},e.prototype.toggleToolbar=function(){this.toolbarVisible?this.hideToolbar():this.showToolbar()},e.prototype._checkLandscapeCapability=function(){var a=this;setTimeout(function(){navigator.userAgent.match(/iPhone;.*OS 10_\d/i)&&("landscape"===t.default.orientation&&t.default.screenHeight<500||"portrait"===t.default.orientation&&t.default.screenWidth<=640)&&(a.landscapeIncompatible=!0,a._showRotateMessage())},1e3)},e.prototype._showRotateMessage=function(){var b=this;"landscape"===t.default.orientation?(b.set("rotateMsgVisible",!0),b.hideToolbar(),setTimeout(function(){b.msgDiv=k.default.createElement("div",{class:"rotateMessage"},k.default.id("mainContainer")),b.msgDiv.innerHTML="<span>"+LOCALS.LANDSCAPE_NOT_SUPPORTED+"</span>",b.msgDiv.style.backgroundImage='url("'+a.FbRouter.translatePath("static/mobile/styles/rotate"+(1===m.default.getPixelRatio()?"":"-2x")+".png")+'")',setTimeout(function(){b.msgDiv.style.opacity="1"},0)},500)):(this.msgDiv&&(this.msgDiv.style.opacity="0",setTimeout(function(){k.default.del(b.msgDiv)},1e3)),this.set("rotateMsgVisible",!1))},e.prototype.bindTOC=function(){var a=this;this.toc=new v.default,this.toc.on("change:page",function(b){a.trigger("link:internal",b,i.default.currentPage.number,"toc"),i.default.goToPage(b)},i.default),this.toc.on("menu:close",this.toggleLeftMenu,this),this.toc.on("toc:subLevel",this.iScrollLeftMenu.refresh,this.iScrollLeftMenu),this.iScrollLeftMenu.refresh()},e.prototype.bindDownloads=function(){this.downloads=new r.default(this),this.iScrollLeftMenu.refresh(),this.downloads.on("download",function(a,b){this.trigger("download",a,b)},this)},e.prototype.bindPager=function(){this.pageCurrentLabel=k.default.id("currentPageLabel"),this.pageCountLabel=k.default.id("pageCountLabel"),this.pageCountLabel.textContent=(void 0!==pagesProps.customTotalPages?" ":" / ")+n.pageTable.pageCountCaption;var a=function(a){this.pageCurrentLabel.textContent=a.caption};a.call(this,i.default.currentPage),i.default.on("change:page",a,this)},e.prototype.bindLeftMenu=function(){var a=this;(0,D.default)(k.default.id("tocButton"),{prevent_default:!0}).on("tap",function(){a.toggleLeftMenu.call(a)}),this.on("change:leftMenuVisible",function(b){if(b){var c=k.default.createElement("div",{id:"blockerDiv",styles:{position:"absolute",width:"100%",height:"100%",zIndex:"1000000"}},"mainContainer","top");(0,D.default)(c,{prevent_default:!0}).on("tap swipe",function(b){b.stopPropagation(),a.trigger("leftMenu:hide")})}else k.default.del("blockerDiv")},this)},e.prototype.showLeftMenu=function(){this.set("leftMenuVisible",!0),x.default.duration(this.mainContainer,250),a.innerWidth<300*m.default.getPixelRatio()?x.default.translate(this.mainContainer,"90%"):x.default.translate(this.mainContainer,300*m.default.getPixelRatio())},e.prototype.hideLeftMenu=function(){this.set("leftMenuVisible",!1),x.default.duration(this.mainContainer,250),x.default.translate(this.mainContainer)},e.prototype.toggleLeftMenu=function(){this.leftMenuVisible?this.trigger("leftMenu:hide"):this.trigger("leftMenu:show")},e.prototype.bindSendMail=function(){var a=this,b=a.createWindow({name:LOCALS.CONTACTS.toUpperCase(),animating:!1,position:"right",fullscreenTablet:!1,topToolbar:{size:"single",buttons:[{className:"icon fb-icon-back-close",closeButton:!0}]}});b.show.call(b),new SendMailView(b.windowEl).on("mail:checkout",function(a){H.default.isString(a)&&(a=JSON.parse(a)),a.d.Success?(b.hide(),alert(LOCALS.EC_STATUS_TEXT)):alert("Error")},b)},e.prototype.bindThMenu=function(){var a=this,b=function(){a.trigger("th:open");var b=a.createWindow({name:LOCALS.THUMBNAILS.toUpperCase(),animating:!1,position:"right",fullscreenTablet:!0,topToolbar:{size:"single",buttons:[{className:"icon fb-icon-round-close",closeButton:!0}]}});b.show.call(b),b.on("window:hide",function(){a.trigger("th:close")}),new B.default(b.windowEl).on("change:page",function(c){b.hide(),a.trigger("link:internal",c,i.default.currentPage.number,"thumbnails"),i.default.goToPage(c,0)},this)};this.on("th:openFromSlide",b,this),(0,D.default)(k.default.id("thButton"),{prevent_default:!0}).on("tap",b),(0,D.default)(k.default.id("bottomPagerLabel"),{prevent_default:!0}).on("tap",b)},e.prototype.bindSearchMenu=function(a){var b=this,c=function(a){void 0===b.searchWindow&&(b.searchWindow=b.createWindow({name:LOCALS.SEARCH.toUpperCase(),animating:!0,position:"right",keepOn:!0,fullscreenTablet:!0,topToolbar:{size:"single",buttons:[{className:"icon fb-icon-back-close",closeButton:!0}]}}),b.searchWindow.on("window:hide",function(){this.trigger("search:close")},b),b.search=new F.default(b.searchWindow,a),b.search.on("query:enter",function(a){this.trigger("search:text",a)},b),b.search.on("change:page",function(a){H.default.defer(function(){b.searchWindow.hide(),b.trigger("link:internal",a,i.default.currentPage.number,"search"),i.default.goToPage(a,0)})}),b.search.on("search:done",function(a,b){var c=a?a.length:0;this.trigger("searchHighlight:on",b),this.trigger("search:done",b,c),this.searchActive=!0,this.searchQuery=b},b),b.search.on("query:short",function(){this.trigger("searchHighlight:off"),this.searchActive=!1,this.searchQuery=""},b),b.search.on("search:empty",function(a){this.trigger("searchHighlight:off"),this.trigger("search:empty",a),this.searchActive=!1,this.searchQuery=""},b),b.search.on("query:clear",function(){this.trigger("searchHighlight:off"),this.searchActive=!1,this.searchQuery=""},b))};a&&c(a),(0,D.default)(k.default.id("searchButton"),{prevent_default:!0,stop_browser_behavior:!1}).on("tap",function(){b.trigger("search:open"),c(),H.default.defer(function(){b.searchWindow.show.call(b.searchWindow)})})},e.prototype.createWindow=function(a){return new z.default(a)},b.default=e}).call(b,c(1))},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){this.workspace=a,this.render()}Object.defineProperty(b,"__esModule",{value:!0});var f=c(3),g=d(f),h=c(2),i=d(h),j=c(5),k=d(j),l=c(0),m=d(l),n=c(6),o=d(n),p=c(9),q=d(p);e.prototype=new g.default,e.prototype.constructor=e,e.prototype.render=function(){var a=i.default.id("leftMenu");this.downloadWrapper=i.default.createElement("ul",{class:"leftMenuBMUl",id:"downloadBlock",styles:{"background-color":"#1d1e20"}},a,"top");var b=i.default.createElement("li",{class:"leftMenuTitle"},this.downloadWrapper);b.textContent=(LOCALS.DOWNLOAD||"download {0}").toUpperCase().replace("{0}",""),i.default.createElement("span",{class:"icon icon-download"},b),this.renderItem({url:workspaceProps.downloads.url?workspaceProps.downloads.url:workspaceProps.downloads.customFiles[0].url,size:workspaceProps.downloads.size?workspaceProps.downloads.size:workspaceProps.downloads.customFiles[0].size}),!m.default.isUndefined(workspaceProps.downloads.customFiles)&&workspaceProps.downloads.customFiles.length>0&&this.renderSubItem(workspaceProps.downloads.customFiles)},e.prototype.renderItem=function(a){var b=this,c=i.default.createElement("li",{class:"leftMenuItem toc"},this.downloadWrapper),d=i.default.createElement("a",{class:"tocSpan",target:"_blank",styles:{"padding-left":16*k.default.getPixelRatio()+"px",color:"#f0f0f0","text-decoration":"none",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",width:"78%",float:"left"}},c);!function(a){d.setAttribute("href",a)}(FbRouter.translatePath("assets/common/downloads/"+a.url));var e=a.size/1048576;e=e<1?e<.1?(1024*e).toFixed(0)+" KB":e.toFixed(2)+" MB":e<100?e.toFixed(1)+" MB":e.toFixed(0)+" MB",i.default.createElement("span",{styles:{color:"#f0f0f0",width:"18%","margin-right":"4%",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",float:"right",textAlign:"right"}},c).textContent=e,(0,o.default)(d,{prevent_default:!0}).on("tap",function(c){c.gesture.srcEvent.target.click(),b.trigger("download",a.url,"full")});var f=a.url.split("/");d.innerHTML=f[f.length-1]},e.prototype.renderSubItem=function(a){if(workspaceProps.downloads.url||1!==workspaceProps.downloads.customFiles.length){var b=!1,c=i.default.createElement("li",{class:"leftMenuItem toc"},this.downloadWrapper);i.default.createElement("a",{class:"tocSpan",target:"_blank",styles:{"padding-left":16*k.default.getPixelRatio()+"px",color:"#f0f0f0","text-decoration":"none",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",width:"78%",float:"left"}},c).innerHTML=LOCALS.DOWNLOAD_MORE||"";var d=i.default.createElement("span",{class:"icon fb-icon-tr-left-menu"},c),e=i.default.createElement("ul",{class:"leftMenuSubItemGroup toc"},c),f=function(){d.setAttribute("class","icon fb-icon-tr-down-menu"),i.default.css(e,{height:"auto"}),q.default.duration(e,250),b=!0},g=function(){d.setAttribute("class","icon fb-icon-tr-left-menu"),i.default.css(e,{height:"0"}),q.default.duration(e,250),b=!1};this.workspace.on("leftMenu:hide",function(){g()});var h=function(){b?g():f()};(0,o.default)(c,{prevent_default:!0}).on("tap",function(){event.stopPropagation(),h()});var j=this;m.default.each(workspaceProps.downloads.url?a:a.slice(1),function(a){var b=i.default.createElement("li",{class:"leftMenuSubItem toc"},e);(0,o.default)(b,{prevent_default:!0}).on("tap",function(){event.stopPropagation()});var c=i.default.createElement("a",{class:"tocSpan",target:"_blank",styles:{"padding-left":32*k.default.getPixelRatio()+"px",color:"#adb0bc","text-decoration":"none",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",width:"78%",float:"left"}},b);(0,o.default)(c,{prevent_default:!0}).on("tap",function(b){b.gesture.srcEvent.target.click(),j.trigger("download",a.url,"custom")}),function(a){c.setAttribute("href",a)}(FbRouter.translatePath("assets/common/downloads/"+a.url));var d=a.size/1048576;d=d<1?d<.1?(1024*d).toFixed(0)+" KB":d.toFixed(2)+" MB":d<100?d.toFixed(1)+" MB":d.toFixed(0)+" MB",i.default.createElement("span",{styles:{color:"#adb0bc",width:"16%","margin-right":"4%",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",float:"right",textAlign:"right"}},b).textContent=d;var f=a.url.split("/");c.innerHTML=f[f.length-1]},this)}},b.default=e},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(a,b,c){function e(a){r.cssText=a}function f(a,b){return(void 0===a?"undefined":d(a))===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a){var e=a[d];if(!g(e,"-")&&r[e]!==c)return"pfx"!=b||e}return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return!1===d?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+u.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+v.join(d+" ")+d).split(" "),i(e,b,c))}var k,l,m="2.8.3",n={},o=b.documentElement,p="modernizr",q=b.createElement(p),r=q.style,s=" -webkit- -moz- -o- -ms- ".split(" "),t="Webkit Moz O ms",u=t.split(" "),v=t.toLowerCase().split(" "),w={},x=[],y=x.slice,z=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:p+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',p,'">',a,"</style>"].join(""),j.id=p,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=o.style.overflow,o.style.overflow="hidden",o.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),o.style.overflow=i),!!g},A=function(){function a(a,e){e=e||b.createElement(d[a]||"div"),a="on"+a;var g=a in e;return g||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(a,""),g=f(e[a],"function"),f(e[a],"undefined")||(e[a]=c),e.removeAttribute(a))),e=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),B={}.hasOwnProperty;l=f(B,"undefined")||f(B.call,"undefined")?function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")}:function(a,b){return B.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=y.call(arguments,1);return function d(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(y.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(y.call(arguments)))}}),w.hashchange=function(){return A("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},w.csstransforms=function(){return!!j("transform")},w.csstransforms3d=function(){var a=!!j("perspective");return a&&"webkitPerspective"in o.style&&z("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=9===b.offsetLeft&&3===b.offsetHeight}),a},w.csstransitions=function(){return j("transition")},w.localstorage=function(){try{return localStorage.setItem(p,p),localStorage.removeItem(p),!0}catch(a){return!1}};for(var C in w)l(w,C)&&(k=C.toLowerCase(),n[k]=w[C](),x.push((n[k]?"":"no-")+k));return n.addTest=function(a,b){if("object"==(void 0===a?"undefined":d(a)))for(var e in a)l(a,e)&&n.addTest(e,a[e]);else{if(a=a.toLowerCase(),n[a]!==c)return n;b="function"==typeof b?b():b,"undefined"!=typeof enableClasses&&enableClasses&&(o.className+=" "+(b?"":"no-")+a),n[a]=b}return n},e(""),q=null,n._version=m,n._prefixes=s,n._domPrefixes=v,n._cssomPrefixes=u,n.hasEvent=A,n.testProp=function(a){return h([a])},n.testAllProps=j,n.testStyles=z,n.prefixed=function(a,b,c){return b?j(a,b,c):j(a,"pfx")},n}(window,window.document);b.default=e},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){this.render()}function f(a){var b=document.createElement("textarea");return b.innerHTML=a,b.value}Object.defineProperty(b,"__esModule",{value:!0});var g=c(3),h=d(g),i=c(6),j=d(i),k=c(2),l=d(k),m=c(0),n=d(m),o=c(5),p=d(o),q=c(9),r=d(q);e.prototype=new h.default,e.prototype.constructor=e,e.prototype.render=function(){if(workspaceProps.toc.children&&!(workspaceProps.toc.children.length<1)){var a=l.default.id("leftMenu");(0,j.default)(a,{prevent_default:!0}).on("tap",function(a){a.stopPropagation()});var b=l.default.createElement("li",{class:"leftMenuTitle"},a);b.textContent=LOCALS.TOC.toUpperCase(),l.default.createElement("span",{class:"icon fb-icon-toc-menu"},b);var c=this;n.default.each(workspaceProps.toc.children,function(b){var d=l.default.createElement("li",{class:"leftMenuItem toc"},a),e=l.default.createElement("div",{},d);l.default.createElement("span",{class:"tocSpan",styles:{"padding-left":16*p.default.getPixelRatio()+"px"}},e).innerText=f(b.title),void 0!==b.children?(this.generateTOCSubLevel(b.children,d,2,e),(0,j.default)(d,{prevent_default:!0}).on("tap",function(a){a.stopPropagation(),c.trigger("toc:subLevel",b.page)})):(0,j.default)(d,{prevent_default:!0}).on("tap",function(a){a.stopPropagation(),c.trigger("change:page",b.page,0),c.trigger("menu:close",b.page)})},this)}},e.prototype.generateTOCSubLevel=function(a,b,c,d){var e=!1,g=l.default.createElement("span",{class:"icon fb-icon-tr-left-menu"},d),h=l.default.createElement("ul",{class:"leftMenuSubItemGroup toc"},b),i=function(){g.setAttribute("class","icon fb-icon-tr-down-menu"),l.default.css(h,{height:"auto"}),r.default.duration(h,250),e=!0},k=function(){g.setAttribute("class","icon fb-icon-tr-left-menu"),l.default.css(h,{height:"0"}),r.default.duration(h,250),e=!1},m=function(){e?k():i()};(0,j.default)(b,{prevent_default:!0}).on("tap",function(){event.stopPropagation(),m()});var o=this;n.default.each(a,function(a){var b=l.default.createElement("li",{class:"leftMenuSubItem toc"},h),d=l.default.createElement("div",{},b);l.default.createElement("span",{class:"tocSpan",styles:{"padding-left":16*c*p.default.getPixelRatio()+"px"}},d).innerText=f(a.title),void 0!==a.children?(this.generateTOCSubLevel(a.children,b,c+1,d),(0,j.default)(b,{prevent_default:!0}).on("tap",function(b){b.stopPropagation(),o.trigger("toc:subLevel",a.page)})):(0,j.default)(b,{prevent_default:!0}).on("tap",function(b){b.stopPropagation(),o.trigger("change:page",a.page,0),o.trigger("menu:close",a.page)})},this)},b.default=e},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(this.keepOn=a.keepOn||!1,this.animating=void 0!==a.animating&&a.animating,this.position=void 0===a.position?"right":a.position,this.container=i.default.id("mainContainer"),!a.fullscreenTablet&&s.default.screenWidth>=768*o.default.getPixelRatio()&&(this.animating=!1),this.fullscreenTablet=a.fullscreenTablet,this.injectBody(a.fullscreenTablet),void 0!==a.topToolbar){var b=this.injectToolbar("top",a.topToolbar.size);void 0!==a.name&&this.injectToolbarText(b,a.name),void 0!==a.topToolbar.buttons&&q.default.each(a.topToolbar.buttons,function(a){this.injectButton(b,a)},this)}void 0!==a.bottomToolbar&&(this.injectToolbar("bottom",a.bottomToolbar.size),void 0!==a.bottomToolbar.buttons&&q.default.each(a.bottomToolbar.buttons,function(a){this.injectButton(b,a)},this)),void 0!==a.topLabel&&this.injectLabel(a.topLabel.text,"top",a.topLabel.size),void 0!==a.bottomLabel&&this.injectLabel(a.bottomLabel.text,"bottom",a.bottomLabel.size)}Object.defineProperty(b,"__esModule",{value:!0});var f=c(3),g=d(f),h=c(2),i=d(h),j=c(6),k=d(j),l=c(9),m=d(l),n=c(5),o=d(n),p=c(0),q=d(p),r=c(4),s=d(r);e.prototype=new g.default,e.prototype.constructor=e,e.prototype.injectBody=function(a){if(void 0===a&&(a=!0),this.windowEl=i.default.createElement("div",{class:"secondWindowBody"+(a?"":" tabletScreen")},this.container),m.default.duration(this.windowEl,0),m.default.translate(this.windowEl,"right"===this.position?"100%":"-100%"),(0,k.default)(this.windowEl,{prevent_default:!0}).on("drag",function(){}),!a){this.blackout=i.default.createElement("div",{class:"secondWindowBodyBlack"},this.container),m.default.duration(this.blackout,0),m.default.translate(this.blackout,"right"===this.position?window.innerWidth:-window.innerWidth);var b=this;(0,k.default)(this.blackout,{prevent_default:!0}).on("tap",function(){b.hide()})}},e.prototype.injectToolbar=function(a,b){a=a||"top",b=b||"single";var c=i.default.createElement("div",{class:("top"===a?"secondWindowTopToolbar":"secondWindowBottomToolbar")+("single"===b?"":" secondWindowDoubleToolbar")},this.windowEl);return"top"===a?i.default.css(this.windowEl,{"padding-top":("single"===b?44:88)*o.default.getPixelRatio()+"px"}):i.default.css(this.windowEl,{"padding-bottom":("single"===b?44:88)*o.default.getPixelRatio()+"px"}),c},e.prototype.injectToolbarText=function(a,b){i.default.createElement("h3",{class:"topToolbarLabel"},a).textContent=b},e.prototype.injectLabel=function(a,b,c){b=b||"top",c=c||"single";var d=i.default.createElement("div",{class:("top"===b?"secondWindowTopLabel":"secondWindowBottomLabel")+("single"===c?"":" secondWindowDoubleToolbar")},this.windowEl);return d.textContent=a,d},e.prototype.injectButton=function(a,b){var c=this,d=i.default.createElement("span",{class:b.className},a);b.closeButton?(0,k.default)(d,{prevent_default:!0}).on("tap",function(){c.hide.call(c)}):(0,k.default)(d,{prevent_default:!0}).on("tap",function(){b.callback.call(c)})},e.prototype.hide=function(){if(!this.animating&&!this.keepOn)return this.destroy(),void this.trigger("window:hide");if(void 0!==this.blackout&&(m.default.duration(this.blackout,this.animating?250:0),m.default.translate(this.blackout,"right"===this.position?"100%":"-100%")),!this.fullscreenTablet&&s.default.screenWidth>768*o.default.getPixelRatio())return this.destroy(),void this.trigger("window:hide");if(s.default.platform.android&&!s.default.browser.chrome&&i.default.css(this.windowEl,{display:"none"}),m.default.duration(this.windowEl,this.animating?250:0),m.default.translate(this.windowEl,"right"===this.position?"100%":"-100%",0),m.default.duration(i.default.id("mainContainer"),this.animating?250:0),m.default.translate(i.default.id("mainContainer")),!this.keepOn){var a=this;q.default.delay(function(){a.destroy.call(a)},250)}this.trigger("window:hide")},e.prototype.show=function(){void 0!==this.blackout&&(m.default.duration(this.blackout,this.animating?250:0),m.default.translate(this.blackout)),this.animating&&s.default.platform.android&&!s.default.browser.chrome&&i.default.css(this.windowEl,{display:"block"}),m.default.duration(this.windowEl,this.animating?250:0),m.default.translate(this.windowEl),this.trigger("window:show")},e.prototype.destroy=function(){i.default.del(this.windowEl),void 0!==this.blackout&&i.default.del(this.blackout)},b.default=e},function(a,b,c){"use strict";(function(a){function d(a){return a&&a.__esModule?a:{default:a}}function e(a){this.isFirstThumbnail=!0,this.thRect={width:g.default.screenWidth>=768*o.default.getPixelRatio()?110*o.default.getPixelRatio():84*o.default.getPixelRatio(),height:g.default.screenWidth>=768*o.default.getPixelRatio()?160*o.default.getPixelRatio():130*o.default.getPixelRatio()},this.wrapper=k.default.createElement("div",{class:"thumbnailsWrapper",styles:{"padding-left":"0px","padding-right":"0px"}},a),this.scroller=k.default.createElement("div",{styles:{float:"left"}},this.wrapper),this._calcPages(),i.default.each(this.pages,function(a,b){i.default.contains(a,t.default.currentPage.number)&&(this.currentPage=b)},this),this.loadedPages=[0,0],this.iScroll=new v.default(this.wrapper),this._renderPage(this.currentPage-1,"top"),this._renderPage(this.currentPage),this._renderPage(this.currentPage+1),this.iScroll.scrollTo(0,0===this.currentPage?0:this.currentPage===this.pageCount-1?this.iScroll.maxScrollY:-this.pageHeight);var b=this;this.iScroll.on("scrollEnd",function(){if(b.iScroll.y===b.iScroll.maxScrollY)b._renderPage(b.loadedPages[1]+1);else if(0===b.iScroll.y){var a=b.loadedPages[0];b._renderPage(b.loadedPages[0]-1,"top"),b.loadedPages[0]!==a&&b.iScroll.scrollTo(0,-b.pageHeight)}})}Object.defineProperty(b,"__esModule",{value:!0});var f=c(4),g=d(f),h=c(0),i=d(h),j=c(2),k=d(j),l=c(3),m=d(l),n=c(5),o=d(n),p=c(8),q=c(10),r=d(q),s=c(7),t=d(s),u=c(11),v=d(u),w=c(6),x=d(w);e.prototype=new m.default,e.prototype.constructor=e,e.prototype._calcPages=function(){var a=this._renderItem(p.pageTable[1],!0),b=a.getBoundingClientRect(),c=this.wrapper.getBoundingClientRect(),d=Math.floor(c.width/b.width),e=Math.floor(c.height/b.height),f=d*e;this.thMargin=(c.width-b.width*d)/(d+1),this.thMargin<20&&(d-=1,f=d*e,this.thMargin=(c.width-b.width*d)/(d+1)),this.pageHeight=e*b.height,this.pageCount=Math.ceil(p.pageTable.pageCount/f),k.default.del(a),a=null,this.pages=[];for(var g=1,h=0;h<this.pageCount;h++){this.pages[h]=[];for(var i=0;i<f&&!(g>p.pageTable.pageCount);)this.pages[h].push(g),p.pageTable[g].wide&&g%2!=0||i++,g++}},e.prototype._render=function(){i.default.forEach(p.pageTable,function(a,b){a.wide&&b%2!=0||this._renderItem(a)},this)},e.prototype._renderPagePreloader=function(b){b=b||"bottom";var c=k.default.createElement("div",{id:b+"PagePreloader",styles:{width:"100%",height:"64px",float:"left"}},this.scroller,b);k.default.createElement("img",{src:a.FbRouter.translatePath("static/mobile/styles/preloader_2-3.gif"),styles:{position:"absolute",top:"50%",left:"50%",margin:"-32px"}},c)},e.prototype._renderPage=function(a,b){if(!(a<0||a>=this.pageCount)){var c="top"===b?this.pages[a].reverse():this.pages[a];"top"===b?(this.loadedPages[0]=a,k.default.id("topPagePreloader")&&k.default.del("topPagePreloader")):(this.loadedPages[1]=a,k.default.id("bottomPagePreloader")&&k.default.del("bottomPagePreloader")),i.default.forEach(c,function(a){var c=p.pageTable[a];c.wide&&a%2==0||this._renderItem(c,!1,b)},this),0!==a&&"top"===b?this._renderPagePreloader("top"):a!==this.pageCount-1&&"top"!==b&&this._renderPagePreloader(),this.iScroll.refresh()}},e.prototype._renderItem=function(b,c,d){if(c=c||!1,d=d||"bottom",i.default.isObject(b)){var e=r.default.getRect(b.id,this.zoomFactor,this.thRect),f=this;this.isFirstThumbnail&&(this.thHeight=e.thPageHeight,this.isFirstThumbnail=!1);var g=k.default.createElement("div",{class:"thumbnailsItem",styles:{"margin-left":this.thMargin+"px","margin-right":"0px"}},this.scroller,d);(0,x.default)(g,{}).on("tap",function(){event.stopPropagation(),f.trigger("change:page",b.number)});var h=k.default.createElement("div",{styles:{width:e.thPageWidth+"px",height:(this.thHeight||e.thPageHeight)+"px","background-color":"rgb(56,57,59)",padding:e.thPadding[0]+"px "+e.thPadding[1]+"px","box-sizing":"padding-box"}},g);k.default.createElement("p",{class:"thumbnailsItemName"},g).textContent=b.caption;var j=k.default.createElement("div",{styles:{width:e.pageWidth+"px",height:e.pageHeight+"px","background-color":"#FFF"}},h);if(b.id===t.default.currentPage.id&&k.default.createElement("div",{styles:{position:"relative",top:-(e.thPageHeight+4*o.default.getPixelRatio()-e.thPadding[0])+"px",left:-(4*o.default.getPixelRatio()+e.thPadding[1])+"px",width:e.thPageWidth+"px",height:e.thPageHeight+"px",border:4*o.default.getPixelRatio()+"px solid red","border-radius":4*o.default.getPixelRatio()+"px","box-sizing":"content-box"}},h),pagesProps.pages[b.id].stub||c)return g;var l=k.default.createElement("img",{src:a.FbRouter.translatePath("static/mobile/styles/preloader_3.gif"),styles:{position:"absolute",top:"50%",left:"50%",margin:"-32px"}},h),m=new Image;m.onload=function(){k.default.css(j,{background:'url("'+this.src+'") no-repeat',"background-color":pagesProps.getPageProperty(b.id,"backgroundColor"),"background-size":e.contentWidth+"px "+e.contentHeight+"px","background-position":e.padding[1]+"px "+e.padding[0]+"px"}),k.default.del(l)};var n=function(a){m.src=a};changeUrlWhenPubl(pagesProps.getThURL(b.id),n)}},b.default=e}).call(b,c(1))},function(a,b,c){"use strict";(function(a){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){this.hardText=b||"",this.active=!1,this.wrapper=a.windowEl,this.body=p.default.createElement("div",{id:"searchBody",class:"searchBody"},this.wrapper),this.on("query:enter",this.sendQuery,this),this.on("query:short",function(){this.renderNotify(),this.set("active",!0)},this),this.on("search:done",function(a){this.algorithm.result=[],this.renderResultTitle(a.length),this.renderResults(a),this.set("active",!0)},this),this.on("search:empty",function(){this.renderError(),this.set("active",!1)},this),this.on("query:clear",function(){this.renderNotify(),this.set("active",!1)},this),n.default.on("change:screenHeight",this._scrollerHeightTune,this),a.on("window:show",function(){var a=this;y.default.delay(function(){a.active||a.inp.focus()},500)},this),a.on("window:hide",function(){this.inp.blur()},this),this.renderQueryInput()}function f(a,b,c,d,e,f){this.page=a,this.text=b,this.relevant=c,this.startPos=d,this.stopPos=e,this.fullText=f}Object.defineProperty(b,"__esModule",{value:!0});var g=c(5),h=d(g),i=c(6),j=d(i),k=c(3),l=d(k),m=c(4),n=d(m),o=c(2),p=d(o),q=c(8),r=c(7),s=d(r),t=c(23),u=d(t),v=c(10),w=d(v),x=c(0),y=d(x);e.prototype=new l.default,e.prototype.constructor=e,e.prototype.renderQueryInput=function(){var b=this,c=p.default.createElement("div",{class:"queryInpWrapper"},this.wrapper,"top");this.inp=p.default.createElement("input",{type:"text",class:"queryInp"},c);var d=p.default.createElement("span",{class:"queryEmpty"},c);(0,j.default)(d,{prevent_default:!0}).on("tap",function(){event.stopPropagation(),b.trigger("query:clear"),b.inp.value=""}),(0,j.default)(this.inp,{stop_browser_behavior:!1}).on("keydown",function(){13===event.keyCode&&this.blur()}),(0,j.default)(this.inp,{stop_browser_behavior:!1}).on("blur",function(){window.scrollTo(0,0);var a=this.value.replace(" "," ");if(this.value.length<workspaceProps.search.searchCharactersLimit)return void b.trigger("query:short",a);b.trigger("query:enter",a)}),this.renderNotify(),""!==this.hardText&&(this.inp.value=this.hardText,this.hardText.length<workspaceProps.search.searchCharactersLimit?this.trigger("query:short",this.hardText):this.trigger("query:enter",this.hardText),this.once("search:done",function(b){if(b.length>0&&null==a.location.href.match(/#(.*)$/)){var c=y.default.findWhere(q.pageTable,{id:b[0].page});s.default.goToPage(c.number)}}))},e.prototype.sendQuery=function(a){var b=this,c=function(){var c=b.algorithm.go(a,JSON.parse(this.responseText).pages);0===c.length?b.trigger("search:empty",a):b.trigger("search:done",c,a),c=null},d=new XMLHttpRequest;d.onload=c,d.onerror=function(){document.write("Error: can`t load xml3")};var e=function(a){d.open("GET",a),d.send(),d=null};changeUrlWhenPubl("assets/common/search/searchtext.js",e)},e.prototype.renderNotify=function(){this.clear(),this.searchNotify=p.default.createElement("p",{class:"searchNotify"},this.body),this.searchNotify.textContent=LOCALS.SEARCH_3SYMBOLS_NOTE.replace("3",workspaceProps.search.searchCharactersLimit)},e.prototype.renderResultTitle=function(a){this.clear(),p.default.createElement("p",{class:"searchResultTitle"},this.body).textContent=LOCALS.SEARCH_PAGE_NUMS+": "+a},e.prototype.renderError=function(){this.clear(),p.default.createElement("p",{class:"searchNotify"},this.body).textContent=LOCALS.SEARCH_NO_RESULTS},e.prototype.clear=function(){void 0!==this.iScroll&&this.iScroll.destroy(),p.default.clear(this.body)},e.prototype.renderResults=function(a){this.scroller=p.default.createElement("div",{styles:{position:"relative",overflow:"hidden"}},this.body);for(var b=p.default.createElement("ul",{class:"searchResultsWrapper"},this.scroller),c=0,d=a.length;c<d;c++)this.injectResultItem(a[c],b);this._scrollerHeightTune(),this.iScroll=new u.default(this.scroller)},e.prototype._scrollerHeightTune=function(){if(void 0!==this.scroller){var a=window.innerHeight-this.scroller.getBoundingClientRect().top;p.default.css(this.scroller,{height:a+"px"})}},e.prototype.injectResultItem=function(a,b){var c=p.default.createElement("li",{class:"searchResultItem"},b),d=this,e=y.default.findWhere(q.pageTable,{id:a.page});(0,j.default)(c,{prevent_default:!0}).on("tap",function(){event.stopPropagation(),d.trigger("change:page",e.number)}),this._addThumbnail(e.number,c),p.default.createElement("h3",{},c).textContent=LOCALS.PAGE.toUpperCase()+" "+e.caption,p.default.createElement("p",{},c).innerHTML=a.text},e.prototype._addThumbnail=function(a,b){var c={width:56*(h.default.getPixelRatio()||1),height:74*(h.default.getPixelRatio()||1)},d=w.default.getRect(q.pageTable[a].id,void 0,c);d.width=d.pageWidth,d.height=d.pageHeight;var e=p.default.createElement("div",{class:"searchThumbnailWrapper",styles:{width:c.width+"px",height:c.height+"px",padding:(c.height-d.height)/2+"px "+(c.width-d.width)/2+"px","box-sizing":"border-box"}},b,"top"),f=p.default.createElement("div",{styles:{width:d.width+"px",height:d.height+"px","background-color":pagesProps.getPageProperty(q.pageTable[a].id,"backgroundColor"),"background-size":d.contentWidth+"px "+d.contentHeight+"px","background-position":d.padding[1]+"px "+d.padding[0]+"px","background-repeat":"no-repeat"}},e),g=function(a){p.default.css(f,{"background-image":'url("'+a+'")'})};return changeUrlWhenPubl(pagesProps.getThURL(q.pageTable[a].id),g),e},e.prototype.algorithm={active:!1,result:[],pages:{},query:"",maxTextResultLength:90,getBold:function(a,b){var c=new RegExp(b,"ig"),d=function(a){return"<b>"+a+"</b>"};return a.replace(c,d)},buildSearchText:function(a,b,c){c=c||[];var d=b-this.maxTextResultLength/2;d=d<0?0:d;var e=a.substr(d,parseInt(this.maxTextResultLength)+6);if(e="..."+e+"...",e=h.default.screening(e),c.length>0)for(var f=0;f<c.length;f++)e=this.getBold(e,c[f]);else e=this.getBold(e,search.query);return e},buildIndexes:function(a,b,c){for(var d=[],e=0;e<b;e++){for(var f=[],g=a[e],h=-workspaceProps.search.searchCharactersLimit;-1!=h;)-1!=(h=c.indexOf(g,h+workspaceProps.search.searchCharactersLimit))&&f.push(h);f.length>0&&d.push(f)}return d},searchFullCoincidence:function(a,b,c,d){for(var e=-1,g=-1,i=b.toLowerCase();(e=i.indexOf(a,e+1))>=0;)if(g=e,-1!=e&&(0===e||h.default.isSplitter(i.charAt(e-1)))&&(e+a.length===i.length||h.default.isSplitter(i.charAt(e+a.length))))return this.result.push(new f(c,this.buildSearchText(b,e,[a]),d?0:1,e,e+a.length,d)),!0;return g>=0&&!workspaceProps.search.exactMatch?(this.result.push(new f(c,this.buildSearchText(b,g,[a]),d?2:3,g,g+a.length,d)),!0):(i=null,!1)},searchPartiallyCoincidence:function(a,b,c,d){var e=b.toLowerCase(),g=this.buildIndexes(a,d,e);if(null==g||0==g.length)return!1;for(var h=0,i=new Array(g.length),j=0;j<g.length;j++)i[j]=g[j][0];for(var k=0;k<g.length-1;k++){var l=1e3,m=g[k],n=g[k+1];if(null==m||null==n)break;for(var o=m.length,p=n.length,q=0;q<o;q++)for(var r=0;r<p;r++){var s=m[q],t=n[r],u=t>s?1:2,v=t>s?t-s:s-t,w=v*u;w<l&&(i[k]=s,i[k+1]=t,l=w)}h+=l}for(var x=1e4,y=0,z=0;null!=i&&z<i.length;z++)x=Math.min(x,i[z]),y=Math.max(y,i[z]);return h+=1e3*(d-g.length),e=null,this.result.push(new f(c,this.buildSearchText(b,x,a),h+4,x,y,!1)),!0},go:function(a,b){a=a.toLowerCase(),this.result=[],this.query=a;var c=h.default.split(a,workspaceProps.search.searchCharactersLimit),d=c.length;for(var e in b.page){var f=b.page[e];null==f["#text"]||this.searchFullCoincidence(a,f["#text"],f["@ID"],!0)||(workspaceProps.search.exactMatch||(d>1?this.searchPartiallyCoincidence(c,f["#text"],f["@ID"],d,a.length):1===d&&this.searchFullCoincidence(c[0],f["#text"],f["@ID"],!1)))}return this.result.sort(this.sortFunc),this.result},sortFunc:function(a,b){return a.page<b.page?-1:a.page>b.page?1:a.id<b.id?-1:a.id>b.id?1:0},clear:function(){this.query=""},stop:function(){this.active=!1,this.query="",this.result=[]}},a.Search=e,b.default=e}).call(b,c(1))},function(a,b,c){var d;!function(e,f,g){function h(a,b){this.wrapper="string"==typeof a?f.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!l.hasPointer,disableTouch:l.hasPointer||!l.hasTouch,disableMouse:l.hasPointer||l.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===e.onmousedown};for(var c in b)this.options[c]=b[c];this.translateZ=this.options.HWCompositing&&l.hasPerspective?" translateZ(0)":"",this.options.useTransition=l.hasTransition&&this.options.useTransition,this.options.useTransform=l.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?l.ease[this.options.bounceEasing]||l.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function i(a,b,c){var d=f.createElement("div"),e=f.createElement("div");return!0===c&&(d.style.cssText="position:absolute;z-index:9999",e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),e.className="iScrollIndicator","h"==a?(!0===c&&(d.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",e.style.height="100%"),d.className="iScrollHorizontalScrollbar"):(!0===c&&(d.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",e.style.width="100%"),d.className="iScrollVerticalScrollbar"),d.style.cssText+=";overflow:hidden",b||(d.style.pointerEvents="none"),d.appendChild(e),d}function j(a,b){this.wrapper="string"==typeof b.el?f.querySelector(b.el):b.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=a,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var c in b)this.options[c]=b[c];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(l.addEvent(this.indicator,"touchstart",this),l.addEvent(e,"touchend",this)),this.options.disablePointer||(l.addEvent(this.indicator,l.prefixPointerEvent("pointerdown"),this),l.addEvent(e,l.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(l.addEvent(this.indicator,"mousedown",this),l.addEvent(e,"mouseup",this))),this.options.fade){this.wrapperStyle[l.style.transform]=this.scroller.translateZ;var d=l.style.transitionDuration;this.wrapperStyle[d]=l.isBadAndroid?"0.0001ms":"0ms";var g=this;l.isBadAndroid&&k(function(){"0.0001ms"===g.wrapperStyle[d]&&(g.wrapperStyle[d]="0s")}),this.wrapperStyle.opacity="0"}}var k=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(a){e.setTimeout(a,1e3/60)},l=function(){function a(a){return!1!==d&&(""===d?a:d+a.charAt(0).toUpperCase()+a.substr(1))}var b={},c=f.createElement("div").style,d=function(){for(var a=["t","webkitT","MozT","msT","OT"],b=0,d=a.length;b<d;b++)if(a[b]+"ransform"in c)return a[b].substr(0,a[b].length-1);return!1}();b.getTime=Date.now||function(){return(new Date).getTime()},b.extend=function(a,b){for(var c in b)a[c]=b[c]},b.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},b.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},b.prefixPointerEvent=function(a){return e.MSPointerEvent?"MSPointer"+a.charAt(7).toUpperCase()+a.substr(8):a},b.momentum=function(a,b,c,d,e,f){var h,i,j=a-b,k=g.abs(j)/c;return f=void 0===f?6e-4:f,h=a+k*k/(2*f)*(j<0?-1:1),i=k/f,h<d?(h=e?d-e/2.5*(k/8):d,j=g.abs(h-a),i=j/k):h>0&&(h=e?e/2.5*(k/8):0,j=g.abs(a)+h,i=j/k),{destination:g.round(h),duration:i}};var h=a("transform");return b.extend(b,{hasTransform:!1!==h,hasPerspective:a("perspective")in c,hasTouch:"ontouchstart"in e,hasPointer:!(!e.PointerEvent&&!e.MSPointerEvent),hasTransition:a("transition")in c}),b.isBadAndroid=function(){var a=e.navigator.appVersion;if(/Android/.test(a)&&!/Chrome\/\d/.test(a)){var b=a.match(/Safari\/(\d+.\d)/);return!(b&&"object"==typeof b&&b.length>=2)||parseFloat(b[1])<535.19}return!1}(),b.extend(b.style={},{transform:h,transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),transitionDelay:a("transitionDelay"),transformOrigin:a("transformOrigin")}),b.hasClass=function(a,b){return new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},b.addClass=function(a,c){if(!b.hasClass(a,c)){var d=a.className.split(" ");d.push(c),a.className=d.join(" ")}},b.removeClass=function(a,c){if(b.hasClass(a,c)){var d=new RegExp("(^|\\s)"+c+"(\\s|$)","g");a.className=a.className.replace(d," ")}},b.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},b.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},b.extend(b.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),b.extend(b.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return g.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22;return 0===a?0:1==a?1:.4*g.pow(2,-10*a)*g.sin((a-b/4)*(2*g.PI)/b)+1}}}),b.tap=function(a,b){var c=f.createEvent("Event");c.initEvent(b,!0,!0),c.pageX=a.pageX,c.pageY=a.pageY,a.target.dispatchEvent(c)},b.click=function(a){var b,c=a.target;/(SELECT|INPUT|TEXTAREA)/i.test(c.tagName)||(b=f.createEvent("MouseEvents"),b.initMouseEvent("click",!0,!0,a.view,1,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),b._constructed=!0,c.dispatchEvent(b))},b}();h.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if(1!=l.eventType[a.type]){if(0!==(a.which?a.button:a.button<2?0:4==a.button?1:2))return}if(this.enabled&&(!this.initiated||l.eventType[a.type]===this.initiated)){!this.options.preventDefault||l.isBadAndroid||l.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var b,c=a.touches?a.touches[0]:a;this.initiated=l.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=l.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,b=this.getComputedPosition(),this._translate(g.round(b.x),g.round(b.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=c.pageX,this.pointY=c.pageY,this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&l.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b,c,d,e,f=a.touches?a.touches[0]:a,h=f.pageX-this.pointX,i=f.pageY-this.pointY,j=l.getTime();if(this.pointX=f.pageX,this.pointY=f.pageY,this.distX+=h,this.distY+=i,d=g.abs(this.distX),e=g.abs(this.distY),!(j-this.endTime>300&&d<10&&e<10)){if(this.directionLocked||this.options.freeScroll||(d>e+this.options.directionLockThreshold?this.directionLocked="h":e>=d+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);i=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);h=0}h=this.hasHorizontalScroll?h:0,i=this.hasVerticalScroll?i:0,b=this.x+h,c=this.y+i,(b>0||b<this.maxScrollX)&&(b=this.options.bounce?this.x+h/3:b>0?0:this.maxScrollX),(c>0||c<this.maxScrollY)&&(c=this.options.bounce?this.y+i/3:c>0?0:this.maxScrollY),this.directionX=h>0?-1:h<0?1:0,this.directionY=i>0?-1:i<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(b,c),j-this.startTime>300&&(this.startTime=j,this.startX=this.x,this.startY=this.y)}}},_end:function(a){if(this.enabled&&l.eventType[a.type]===this.initiated){this.options.preventDefault&&!l.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b,c,d=(a.changedTouches&&a.changedTouches[0],l.getTime()-this.startTime),e=g.round(this.x),f=g.round(this.y),h=g.abs(e-this.startX),i=g.abs(f-this.startY),j=0,k="";if(this.isInTransition=0,this.initiated=0,this.endTime=l.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(e,f),!this.moved)return this.options.tap&&l.tap(a,this.options.tap),this.options.click&&l.click(a),void this._execEvent("scrollCancel");if(this._events.flick&&d<200&&h<100&&i<100)return void this._execEvent("flick");if(this.options.momentum&&d<300&&(b=this.hasHorizontalScroll?l.momentum(this.x,this.startX,d,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:e,duration:0},c=this.hasVerticalScroll?l.momentum(this.y,this.startY,d,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:f,duration:0},e=b.destination,f=c.destination,j=g.max(b.duration,c.duration),this.isInTransition=1),this.options.snap){var m=this._nearestSnap(e,f);this.currentPage=m,j=this.options.snapSpeed||g.max(g.max(g.min(g.abs(e-m.x),1e3),g.min(g.abs(f-m.y),1e3)),300),e=m.x,f=m.y,this.directionX=0,this.directionY=0,k=this.options.bounceEasing}if(e!=this.x||f!=this.y)return(e>0||e<this.maxScrollX||f>0||f<this.maxScrollY)&&(k=l.ease.quadratic),void this.scrollTo(e,f,j,k);this._execEvent("scrollEnd")}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),(b!=this.x||c!=this.y)&&(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=l.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;b<c;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||l.ease.circular,this.isInTransition=this.options.useTransition&&c>0;var e=this.options.useTransition&&d.style;!c||e?(e&&(this._transitionTimingFunction(d.style),this._transitionTime(c)),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,c,d,e){if(a=a.nodeType?a:this.scroller.querySelector(a)){var f=l.offset(a);f.left-=this.wrapperOffset.left,f.top-=this.wrapperOffset.top,!0===c&&(c=g.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===d&&(d=g.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),f.left-=c||0,f.top-=d||0,f.left=f.left>0?0:f.left<this.maxScrollX?this.maxScrollX:f.left,f.top=f.top>0?0:f.top<this.maxScrollY?this.maxScrollY:f.top,b=void 0===b||null===b||"auto"===b?g.max(g.abs(this.x-f.left),g.abs(this.y-f.top)):b,this.scrollTo(f.left,f.top,b,e)}},_transitionTime:function(a){a=a||0;var b=l.style.transitionDuration;if(this.scrollerStyle[b]=a+"ms",!a&&l.isBadAndroid){this.scrollerStyle[b]="0.0001ms";var c=this;k(function(){"0.0001ms"===c.scrollerStyle[b]&&(c.scrollerStyle[b]="0s")})}if(this.indicators)for(var d=this.indicators.length;d--;)this.indicators[d].transitionTime(a)},_transitionTimingFunction:function(a){if(this.scrollerStyle[l.style.transitionTimingFunction]=a,this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){if(this.options.useTransform?this.scrollerStyle[l.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=g.round(a),b=g.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b,this.indicators)for(var c=this.indicators.length;c--;)this.indicators[c].updatePosition()},_initEvents:function(a){var b=a?l.removeEvent:l.addEvent,c=this.options.bindToWrapper?this.wrapper:e;b(e,"orientationchange",this),b(e,"resize",this),this.options.click&&b(this.wrapper,"click",this,!0),this.options.disableMouse||(b(this.wrapper,"mousedown",this),b(c,"mousemove",this),b(c,"mousecancel",this),b(c,"mouseup",this)),l.hasPointer&&!this.options.disablePointer&&(b(this.wrapper,l.prefixPointerEvent("pointerdown"),this),b(c,l.prefixPointerEvent("pointermove"),this),b(c,l.prefixPointerEvent("pointercancel"),this),b(c,l.prefixPointerEvent("pointerup"),this)),l.hasTouch&&!this.options.disableTouch&&(b(this.wrapper,"touchstart",this),b(c,"touchmove",this),b(c,"touchcancel",this),b(c,"touchend",this)),b(this.scroller,"transitionend",this),b(this.scroller,"webkitTransitionEnd",this),b(this.scroller,"oTransitionEnd",this),b(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var a,b,c=e.getComputedStyle(this.scroller,null);return this.options.useTransform?(c=c[l.style.transform].split(")")[0].split(", "),a=+(c[12]||c[4]),b=+(c[13]||c[5])):(a=+c.left.replace(/[^-\d.]/g,""),b=+c.top.replace(/[^-\d.]/g,"")),{x:a,y:b}},_initIndicators:function(){function a(a){if(f.indicators)for(var b=f.indicators.length;b--;)a.call(f.indicators[b])}var b,c=this.options.interactiveScrollbars,d="string"!=typeof this.options.scrollbars,e=[],f=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(b={el:i("v",c,this.options.scrollbars),interactive:c,defaultScrollbars:!0,customStyle:d,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(b.el),e.push(b)),this.options.scrollX&&(b={el:i("h",c,this.options.scrollbars),interactive:c,defaultScrollbars:!0,customStyle:d,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(b.el),e.push(b))),this.options.indicators&&(e=e.concat(this.options.indicators));for(var g=e.length;g--;)this.indicators.push(new j(this,e[g]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){a(function(){this.fade()})}),this.on("scrollCancel",function(){a(function(){this.fade()})}),this.on("scrollStart",function(){a(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){a(function(){this.fade(1,!0)})})),this.on("refresh",function(){a(function(){this.refresh()})}),this.on("destroy",function(){a(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){l.addEvent(this.wrapper,"wheel",this),l.addEvent(this.wrapper,"mousewheel",this),l.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,l.removeEvent(this.wrapper,"wheel",this),l.removeEvent(this.wrapper,"mousewheel",this),l.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault();var b,c,d,e,f=this;if(void 0===this.wheelTimeout&&f._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){f.options.snap||f._execEvent("scrollEnd"),f.wheelTimeout=void 0},400),"deltaX"in a)1===a.deltaMode?(b=-a.deltaX*this.options.mouseWheelSpeed,c=-a.deltaY*this.options.mouseWheelSpeed):(b=-a.deltaX,c=-a.deltaY);else if("wheelDeltaX"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,c=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)b=c=a.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in a))return;b=c=-a.detail/3*this.options.mouseWheelSpeed}if(b*=this.options.invertWheelDirection,c*=this.options.invertWheelDirection,this.hasVerticalScroll||(b=c,c=0),this.options.snap)return d=this.currentPage.pageX,e=this.currentPage.pageY,b>0?d--:b<0&&d++,c>0?e--:c<0&&e++,void this.goToPage(d,e);d=this.x+g.round(this.hasHorizontalScroll?b:0),e=this.y+g.round(this.hasVerticalScroll?c:0),this.directionX=b>0?-1:b<0?1:0,this.directionY=c>0?-1:c<0?1:0,d>0?d=0:d<this.maxScrollX&&(d=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY),this.scrollTo(d,e,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var a,b,c,d,e,f,h=0,i=0,j=0,k=this.options.snapStepX||this.wrapperWidth,l=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(c=g.round(k/2),d=g.round(l/2);j>-this.scrollerWidth;){for(this.pages[h]=[],a=0,e=0;e>-this.scrollerHeight;)this.pages[h][a]={x:g.max(j,this.maxScrollX),y:g.max(e,this.maxScrollY),width:k,height:l,cx:j-c,cy:e-d},e-=l,a++;j-=k,h++}else for(f=this.options.snap,a=f.length,b=-1;h<a;h++)(0===h||f[h].offsetLeft<=f[h-1].offsetLeft)&&(i=0,b++),this.pages[i]||(this.pages[i]=[]),j=g.max(-f[h].offsetLeft,this.maxScrollX),e=g.max(-f[h].offsetTop,this.maxScrollY),c=j-g.round(f[h].offsetWidth/2),d=e-g.round(f[h].offsetHeight/2),this.pages[i][b]={x:j,y:e,width:f[h].offsetWidth,height:f[h].offsetHeight,cx:c,cy:d},j>this.maxScrollX&&i++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=g.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=g.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var a=this.options.snapSpeed||g.max(g.max(g.min(g.abs(this.x-this.startX),1e3),g.min(g.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var c=0,d=this.pages.length,e=0;if(g.abs(a-this.absStartX)<this.snapThresholdX&&g.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;for(a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);c<d;c++)if(a>=this.pages[c][0].cx){a=this.pages[c][0].x;break}for(d=this.pages[c].length;e<d;e++)if(b>=this.pages[0][e].cy){b=this.pages[0][e].y;break}return c==this.currentPage.pageX&&(c+=this.directionX,c<0?c=0:c>=this.pages.length&&(c=this.pages.length-1),a=this.pages[c][0].x),e==this.currentPage.pageY&&(e+=this.directionY,e<0?e=0:e>=this.pages[0].length&&(e=this.pages[0].length-1),b=this.pages[0][e].y),{x:a,y:b,pageX:c,pageY:e}},goToPage:function(a,b,c,d){d=d||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:a<0&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:b<0&&(b=0);var e=this.pages[a][b].x,f=this.pages[a][b].y;c=void 0===c?this.options.snapSpeed||g.max(g.max(g.min(g.abs(e-this.x),1e3),g.min(g.abs(f-this.y),1e3)),300):c,this.currentPage={x:e,y:f,pageX:a,pageY:b},this.scrollTo(e,f,c,d)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,c<0&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(a){var b,c={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(b in this.options.keyBindings)"string"==typeof this.options.keyBindings[b]&&(this.options.keyBindings[b]=this.options.keyBindings[b].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(b in c)this.options.keyBindings[b]=this.options.keyBindings[b]||c[b];l.addEvent(e,"keydown",this),this.on("destroy",function(){l.removeEvent(e,"keydown",this)})},_key:function(a){if(this.enabled){var b,c=this.options.snap,d=c?this.currentPage.pageX:this.x,e=c?this.currentPage.pageY:this.y,f=l.getTime(),h=this.keyTime||0,i=.25;switch(this.options.useTransition&&this.isInTransition&&(b=this.getComputedPosition(),this._translate(g.round(b.x),g.round(b.y)),this.isInTransition=!1),this.keyAcceleration=f-h<200?g.min(this.keyAcceleration+i,50):0,a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?d+=c?1:this.wrapperWidth:e+=c?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?d-=c?1:this.wrapperWidth:e-=c?1:this.wrapperHeight;break;case this.options.keyBindings.end:d=c?this.pages.length-1:this.maxScrollX,e=c?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:d=0,e=0;break;case this.options.keyBindings.left:d+=c?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:e+=c?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:d-=c?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:e-=c?1:5+this.keyAcceleration>>0;break;default:return}if(c)return void this.goToPage(d,e);d>0?(d=0,this.keyAcceleration=0):d<this.maxScrollX&&(d=this.maxScrollX,this.keyAcceleration=0),e>0?(e=0,this.keyAcceleration=0):e<this.maxScrollY&&(e=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(d,e,0),this.keyTime=f}},_animate:function(a,b,c,d){function e(){var m,n,o,p=l.getTime();if(p>=j)return f.isAnimating=!1,f._translate(a,b),void(f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd"));p=(p-i)/c,o=d(p),m=(a-g)*o+g,n=(b-h)*o+h,f._translate(m,n),f.isAnimating&&k(e)}var f=this,g=this.x,h=this.y,i=l.getTime(),j=i+c;this.isAnimating=!0,e()},handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"keydown":this._key(a);break;case"click":this.enabled&&!a._constructed&&(a.preventDefault(),a.stopPropagation())}}},j.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(l.removeEvent(this.indicator,"touchstart",this),l.removeEvent(this.indicator,l.prefixPointerEvent("pointerdown"),this),l.removeEvent(this.indicator,"mousedown",this),l.removeEvent(e,"touchmove",this),l.removeEvent(e,l.prefixPointerEvent("pointermove"),this),l.removeEvent(e,"mousemove",this),l.removeEvent(e,"touchend",this),l.removeEvent(e,l.prefixPointerEvent("pointerup"),this),l.removeEvent(e,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(a){var b=a.touches?a.touches[0]:a;a.preventDefault(),a.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=b.pageX,this.lastPointY=b.pageY,this.startTime=l.getTime(),this.options.disableTouch||l.addEvent(e,"touchmove",this),this.options.disablePointer||l.addEvent(e,l.prefixPointerEvent("pointermove"),this),this.options.disableMouse||l.addEvent(e,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(a){var b,c,d,e,f=a.touches?a.touches[0]:a;l.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,b=f.pageX-this.lastPointX,this.lastPointX=f.pageX,c=f.pageY-this.lastPointY,this.lastPointY=f.pageY,d=this.x+b,e=this.y+c,this._pos(d,e),a.preventDefault(),a.stopPropagation()},_end:function(a){if(this.initiated){if(this.initiated=!1,a.preventDefault(),a.stopPropagation(),l.removeEvent(e,"touchmove",this),l.removeEvent(e,l.prefixPointerEvent("pointermove"),this),l.removeEvent(e,"mousemove",this),this.scroller.options.snap){var b=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),c=this.options.snapSpeed||g.max(g.max(g.min(g.abs(this.scroller.x-b.x),1e3),g.min(g.abs(this.scroller.y-b.y),1e3)),300);this.scroller.x==b.x&&this.scroller.y==b.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=b,this.scroller.scrollTo(b.x,b.y,c,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(a){a=a||0;var b=l.style.transitionDuration;if(this.indicatorStyle[b]=a+"ms",!a&&l.isBadAndroid){this.indicatorStyle[b]="0.0001ms";var c=this;k(function(){"0.0001ms"===c.indicatorStyle[b]&&(c.indicatorStyle[b]="0s")})}},transitionTimingFunction:function(a){this.indicatorStyle[l.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(l.addClass(this.wrapper,"iScrollBothScrollbars"),l.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(l.removeClass(this.wrapper,"iScrollBothScrollbars"),l.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=g.max(g.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=g.max(g.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&g.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&g.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=g.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+"px"),a=this.minBoundaryX):a>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=g.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),b<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=g.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+"px"),b=this.minBoundaryY):b>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=g.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[l.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){a<0?a=0:a>this.maxPosX&&(a=this.maxPosX),b<0?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?g.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?g.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,d=a?0:300;a=a?"1":"0",this.wrapperStyle[l.style.transitionDuration]=c+"ms",this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a,this.visible=+a}.bind(this,a),d)}}},h.utils=l,void 0!==a&&a.exports?a.exports=h:void 0!==(d=function(){return h}.call(b,c,b,a))&&(a.exports=d)}(window,document,Math)},function(a,b,c){"use strict";(function(a){function d(a){return a&&a.__esModule?a:{default:a}}function e(){this._bind();var b=this;i.default.defer(function(){b._change(a.FbRouter.getPathInfo()),b.trigger("init")})}Object.defineProperty(b,"__esModule",{value:!0});var f=c(3),g=d(f),h=c(0),i=d(h),j=c(8),k=c(7),l=d(k);e.prototype=new g.default,e.prototype.constructor=e,e.prototype._bind=function(){var b=this;a.FbRouter.setCallback(function(a){b._change.call(b,a)})},e.prototype.cutEC=function(){this.route(l.default.currentPage)},e.prototype._change=function(b){if(b&&null!=b.page){var c=i.default.where(j.pageTable,{url:b.page+""}),d=a.pagesProps.numerationOffset?a.pagesProps.numerationOffset:0,e=i.default.where(j.pageTable,{number:parseInt(b.page,10)+d}),f=c.length>0?c.length>1?c[1].number:c[0].number:e.length>0?e[0].number:l.default.currentPage.number;f!==l.default.currentPage.number&&this.trigger("change:hash",f),null!=b.productID&&this.trigger("product:show",b.productID)}},e.prototype.route=function(b){a.FbRouter.setPath({page:b.url},!0)},e.prototype._getHash=function(){var b=a.location.href.match(/#(.*)$/);return b?b[1]:""},b.default=e}).call(b,c(1))},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a,b){this.x=a,this.y=b}this.MAX_RESOLUTION=15e6*m.default.getPixelRatio(),this.mainContainer=g.default.id("mainFrame"),this.zoomAnimationProcess=!1;var b=g.default.id("bannerNotice");if(b){var c=this,d=b.getBoundingClientRect();this.globalHeight=o.default.screenHeight-d.height,workspace.once("banner:close",function(){c.globalHeight=o.default.screenHeight,c.refresh()})}else this.globalHeight=o.default.screenHeight;this.globalWidth=o.default.screenWidth,this.maxPullSize=this.globalWidth/7,this.currentPageCorner=new a(0,0),this.leftPageCorner=new a(0,0),this.rightPageCorner=new a(0,0),this.contentCorner=new a(0,0),this.leftContentCorner=new a(0,0),this.rightContentCorner=new a(0,0),this.contentCornerStore=new a(0,0),this.currentPageCornerStore=new a(0,0),this._newWrapper("current"),this.currentContentObject.trigger("content:show"),this._newWrapper("right"),this._newWrapper("left"),o.default.on("change:orientation",function(){this._orientationChange.call(this)},this),this._bindDom(),this.on("slideAnimation:end",function(){this.currentContentObject.trigger("content:show")},this),(0,i.default)(g.default.id("mainFrame"),{stop_browser_behavior:!0,prevent_default:!0}).on("swipeleft",function(a){"wrapper"===a.target.className&&w.default.slideToLeft()}),(0,i.default)(g.default.id("mainFrame"),{stop_browser_behavior:!0,prevent_default:!0}).on("swiperight",function(a){"wrapper"===a.target.className&&w.default.slideToRight()}),this.on("zoomAnimation:start",function(){this.zoomAnimationProcess=!0},this),this.on("zoomAnimation:end",function(){this.zoomAnimationProcess=!1},this)}Object.defineProperty(b,"__esModule",{value:!0});var f=c(2),g=d(f),h=c(6),i=d(h),j=c(3),k=d(j),l=c(5),m=d(l),n=c(4),o=d(n),p=c(26),q=d(p),r=c(10),s=d(r),t=c(9),u=d(t),v=c(7),w=d(v),x=c(0),y=d(x);e.prototype=new k.default,e.prototype.constructor=e,e.prototype._orientationChange=function(){if(!o.default.fullscreen||!o.default.os.android){this.refresh.call(this);var a=this.currentContentElement.getBoundingClientRect();(this.globalWidth>a.width||s.default.zoomLevel<1.05)&&(s.default.zoomLevel=1,this.currentContentObject.resize()),this.leftContentObject.resize(),this.rightContentObject.resize(),this._initSizes(0)}},e.prototype._startRender=function(a){this.contentCornerStore.x=this.contentCorner.x,this.contentCornerStore.y=this.contentCorner.y,this.currentPageCornerStore.x=this.currentPageCorner.x,this.currentPageCornerStore.y=this.currentPageCorner.y,this.trigger("slideAnimation:start"),this._render(a)},e.prototype._render=function(a,b){b=b||0,a&&(this.contentCorner.x=this.contentCornerStore.x+a.deltaX,this.contentCorner.y=this.contentCornerStore.y+a.deltaY);var c=this.contentCorner.x-this.currentPageCornerStore.x,d=this.contentCorner.y-this.currentPageCornerStore.y;this.deltaHeight<0?(this.contentCorner.y=Math.abs(this.deltaHeight)/2,this.currentPageCorner.y=0):d>0?(a||(this.contentCorner.y=this.currentPageCorner.y),this.contentCorner.y=this.currentPageCorner.y+this.contentCorner.y/3):Math.abs(d)>this.deltaHeight?(a||(this.contentCorner.y=this.currentPageCorner.y-this.deltaHeight),this.contentCorner.y=this.currentPageCorner.y-this.deltaHeight+(this.contentCorner.y+this.deltaHeight)/3):this.currentPageCorner.y=this.currentPageCornerStore.y,this.deltaWidth<0?(this.currentPageCorner.x=this.contentCorner.x-Math.abs(this.deltaWidth)/2,this.contentCorner.x=Math.abs(this.deltaWidth)/2):c>0?(this.currentPageCorner.x=this.contentCorner.x,this.contentCorner.x=0):Math.abs(c)>this.deltaWidth?(this.currentPageCorner.x=this.contentCorner.x+this.deltaWidth,this.contentCorner.x=-this.deltaWidth):this.currentPageCorner.x=this.currentPageCornerStore.x,this.leftPageCorner.x=this.currentPageCorner.x-this.globalWidth,this.rightPageCorner.x=this.currentPageCorner.x+this.globalWidth,this.leftPageCorner.y=this.currentPageCorner.y,this.rightPageCorner.y=this.currentPageCorner.y,this._setStyles(b)},e.prototype._stopRender=function(a,b,c){b=void 0===b?200:b,c=c||!1;var d=this;if("stop"!==c&&(this.currentPageCorner.x<0&&Math.abs(this.currentPageCorner.x)>this.maxPullSize||"left"===c)){if(!c&&!w.default.checkSlide("right"))return void this._render(!1,b);this._animationEnd=function(a){c||(d.fireTrigger=!0,w.default.slideToLeft()),d._goToLeft.call(d,a),d.currentContentObject.trigger("slideAnimation:end"),d.trigger("slideAnimation:end")},u.default.transEndEventName&&("android"!==o.default.name||o.default.browser.chrome)?this.currentContainerElement.addEventListener(u.default.transEndEventName,this._animationEnd):y.default.delay(this._animationEnd,b),this.contentCorner.x=-(this.globalWidth+this.deltaWidth),this.deltaWidth<0&&(this.contentCorner.x+=this.deltaWidth/2)}else if("stop"!==c&&(this.currentPageCorner.x>0&&Math.abs(this.currentPageCorner.x)>this.maxPullSize||"right"===c)){if(!c&&!w.default.checkSlide("left"))return void this._render(!1,b);this._animationEnd=function(a){c||(d.fireTrigger=!0,w.default.slideToRight()),d._goToRight.call(d,a),d.currentContentObject.trigger("slideAnimation:end"),d.trigger("slideAnimation:end")},u.default.transEndEventName&&("android"!==o.default.name||o.default.browser.chrome)?this.currentContainerElement.addEventListener(u.default.transEndEventName,this._animationEnd):y.default.delay(this._animationEnd,b),this.contentCorner.x=this.globalWidth,this.deltaWidth<0&&(this.contentCorner.x-=this.deltaWidth/2)}this._render(!1,b)},e.prototype._startZoomRender=function(a){this._unbindDragEvent();var b=this.currentContentElement.getBoundingClientRect(),c=a.gesture.center.pageY-b.top,d=a.gesture.center.pageX-b.left;this.transformStore=z(this.currentContentElement.style[u.default.browserPrefix+"Transform"]),this.transformStore.accamulatedScale=1,u.default.transition(this.currentContentElement,0,"transform"),u.default.origin(this.currentContentElement,d,c),this.zoomWasRaised=!1,this.minZoom=s.default.getRect(w.default.currentPage.id,1).pageHeight/this.currentContentElement.clientHeight,this.maxZoom=m.default.getMaxZoom(this.MAX_RESOLUTION,s.default.getRect(w.default.currentPage.id).pageWidth,s.default.getRect(w.default.currentPage.id).pageHeight),this.trigger("zoomAnimation:start")},e.prototype._zoomRender=function(a,b){b=b||0;var c=Math.max(a.gesture.scale,this.minZoom);c=Math.min(c,this.maxZoom);var d=this.transformStore.translate.x,e=this.transformStore.translate.y;if(c>1&&(this.zoomWasRaised=!0),b){u.default.transition(this.currentContentElement,b,"transform"),this.currentContentElement.style[u.default.browserPrefix+"TransitionTimingFunction"]="cubic-bezier(0.7, 0, 0.27, 1)";var f=this,g=function(){f._stopZoomRender.call(f,a),u.default.transEndEventName&&f.currentContainerElement.removeEventListener(u.default.transEndEventName,g),g=null};u.default.transEndEventName?this.currentContainerElement.addEventListener(u.default.transEndEventName,g):y.default.delay(g,b)}this.currentContentElement.style[u.default.browserPrefix+"Transform"]="translate3d("+d+"px,"+e+"px, 0px) scale("+c+")",this.transformStore.accamulatedScale=c},e.prototype._stopZoomRender=function(a){var b=this.currentContentElement.parentNode.getBoundingClientRect(),c=this.currentContentElement.getBoundingClientRect(),d=s.default.zoomLevel,e=this;if(s.default.setZoomLevel(c),d===s.default.zoomLevel)return this.zoomWasRaised?void e.trigger("zoomAnimation:end"):void this.trigger("th:open");d<s.default.zoomLevel?this.trigger("zoom:in",w.default.currentPage):this.trigger("zoom:out",w.default.currentPage);var f=Math.round(c.top-b.top),h=Math.round(c.left-b.left);this.currentContentObject.resize(!0),u.default.translate(this.currentContentObject.container,h,f),s.default.zoomSave&&(e.leftContentObject.resize(),e.rightContentObject.resize()),setTimeout(function(){g.default.del(e.currentContentElement),e.currentContentElement=e.currentContentObject.container,e.trigger("zoomAnimation:end"),e.refresh.call(e,50)},150)},e.prototype._setStyles=function(a,b){a=a||0,b=b||"cubic-bezier(0,0,1,1)",u.default.transition(this.leftContainerElement,a,"transform"),u.default.transition(this.currentContainerElement,a,"transform"),u.default.transition(this.rightContainerElement,a,"transform"),u.default.transition(this.currentContentElement,a,"transform"),this.leftContainerElement.style[u.default.browserPrefix+"TransitionTimingFunction"]=b,this.currentContainerElement.style[u.default.browserPrefix+"TransitionTimingFunction"]=b,this.rightContainerElement.style[u.default.browserPrefix+"TransitionTimingFunction"]=b,this.currentContentElement.style[u.default.browserPrefix+"TransitionTimingFunction"]=b,u.default.translate(this.leftContainerElement,this.leftPageCorner.x,this.leftPageCorner.y),u.default.translate(this.currentContainerElement,this.currentPageCorner.x,this.currentPageCorner.y),u.default.translate(this.rightContainerElement,this.rightPageCorner.x,this.rightPageCorner.y),u.default.translate(this.currentContentElement,this.contentCorner.x,this.contentCorner.y)},e.prototype._setCorners=function(){var a=this.leftContentElement.clientWidth-this.globalWidth,b=this.rightContentElement.clientWidth-this.globalWidth,c=this.leftContentElement.clientHeight-this.globalHeight,d=this.rightContentElement.clientHeight-this.globalHeight,e=1;a<0?this.leftContentCorner.x+=a/2:this.leftContentCorner.x-=e,b<0?this.rightContentCorner.x-=b/2:this.rightContentCorner.x+=e,c<0?this.leftContentCorner.y-=c/2:this.leftContentCorner.y+=e,d<0?this.rightContentCorner.y-=d/2:this.rightContentCorner.y+=e,u.default.translate(this.leftContentElement,this.leftContentCorner.x,this.leftContentCorner.y),u.default.translate(this.rightContentElement,this.rightContentCorner.x,this.rightContentCorner.y)},e.prototype._initSizes=function(a){a=a||0,this.leftPageCorner.x=-this.globalWidth,this.rightPageCorner.x=this.globalWidth,this.deltaWidth=this.currentContentElement.clientWidth-this.globalWidth,this.deltaHeight=this.currentContentElement.clientHeight-this.globalHeight;var b=z(this.currentContentElement.style[u.default.browserPrefix+"Transform"]);this.contentCorner.x=b.translate.x,this.contentCorner.y=b.translate.y,b=null,0===this.contentCorner.x&&this.deltaWidth<0&&(this.contentCorner.x=-this.deltaWidth/2),this.leftContentCorner.x=-(this.leftContentElement.clientWidth-this.globalWidth),this.leftContentCorner.y=0,this.rightContentCorner.x=0,this.rightContentCorner.y=0,this.contentCornerStore.x=0,this.contentCornerStore.y=0,this.currentPageCornerStore.x=0,this.currentPageCornerStore.y=0,this._setCorners(),this._render(!1),this._stopRender(!1,a,"stop")},e.prototype._tapStart=function(){},e.prototype._tapMove=function(){},e.prototype._tapEnd=function(){},e.prototype._animationEnd=function(){},e.prototype._bindDom=function(a){a=a||0,this._bindDragEvent(),this._bindPinchEvent(),(0,i.default)(this.currentContainerElement,{prevent_default:!0}).on("drag",function(){}),(0,i.default)(this.mainContainer,{prevent_default:!0}).on("drag",function(){});var b=this;(0,i.default)(this.currentContentElement,{prevent_default:!0}).on("release",function(){b._unbindDragEvent(),b._unbindPinchEvent(),b._bindDragEvent(),b._bindPinchEvent()}),this._initSizes(a)},e.prototype._bindDragEvent=function(){var a=this,b=!1;this._tapStart=function(c){if(!b){b=!0,a._unbindPinchEvent();var d={deltaX:c.gesture.deltaX,deltaY:c.gesture.deltaY};a._startRender.call(a,d),d=null}},this._tapMove=function(b){var c={deltaX:b.gesture.deltaX,deltaY:b.gesture.deltaY};a._render.call(a,c)},this._tapEnd=function(c){b=!1;var d={deltaX:c.gesture.deltaX,deltaY:c.gesture.deltaY};a._stopRender.call(a,d),d=null},this._swipeLeft=function(){"true"===a.currentContentElement.getAttribute("data-wide")&&a.currentContentElement.getBoundingClientRect().left>-a.globalWidth/2&&(a.contentCorner.x=a.currentContainerElement.getBoundingClientRect().width-a.currentContentElement.getBoundingClientRect().width)},this._swipeRight=function(){"true"===a.currentContentElement.getAttribute("data-wide")&&a.currentContentElement.getBoundingClientRect().left<a.globalWidth/2&&(a.contentCorner.x=0)},(0,i.default)(this.currentContentElement,{prevent_default:!0,fb_lock_to_axis:!0,drag_block_vertical:1===s.default.zoomLevel}).on("dragstart",this._tapStart),(0,i.default)(this.currentContentElement,{prevent_default:!0,fb_lock_to_axis:!0,drag_block_vertical:1===s.default.zoomLevel}).on("drag",this._tapMove),(0,i.default)(this.currentContentElement,{prevent_default:!0,fb_lock_to_axis:!0,drag_block_vertical:1===s.default.zoomLevel}).on("dragend",this._tapEnd),(0,i.default)(this.currentContentElement,{prevent_default:!0}).on("swipeleft",this._swipeLeft),(0,i.default)(this.currentContentElement,{prevent_default:!0}).on("swiperight",this._swipeRight)},e.prototype._unbindDragEvent=function(){(0,i.default)(this.currentContentElement,{prevent_default:!0,fb_lock_to_axis:!0,drag_block_vertical:1===s.default.zoomLevel}).off("dragstart",this._tapStart),(0,i.default)(this.currentContentElement,{prevent_default:!0,fb_lock_to_axis:!0,drag_block_vertical:1===s.default.zoomLevel}).off("drag",this._tapMove),(0,i.default)(this.currentContentElement,{prevent_default:!0,fb_lock_to_axis:!0,drag_block_vertical:1===s.default.zoomLevel}).off("dragend",this._tapEnd),(0,i.default)(this.currentContentElement,{prevent_default:!0}).off("swipeleft",this._swipeLeft),(0,i.default)(this.currentContentElement,{prevent_default:!0}).off("swiperight",this._swipeRight)},e.prototype._bindPinchEvent=function(){var a=this;this._pinchStart=function(b){a._startZoomRender(b)},this._pinchMove=function(b){a._zoomRender(b)},this._pinchEnd=function(b){a._stopZoomRender(b)},(0,i.default)(this.currentContentElement,{prevent_default:!0}).on("transformstart",this._pinchStart),(0,i.default)(this.currentContentElement,{prevent_default:!0}).on("pinch",this._pinchMove),(0,i.default)(this.currentContentElement,{prevent_default:!0}).on("transformend",this._pinchEnd),this._doubletap=function(b){if(!a.zoomAnimationProcess){var c,d=a.currentContentElement.getBoundingClientRect(),e=b.gesture.center.pageY-d.top,f=b.gesture.center.pageX-d.left,g=a.currentContentObject.isBlock(f,e);if(g){var h={width:g.rect[0],height:g.rect[1],left:g.rect[2],top:g.rect[3]},i=o.default.screenWidth/h.width,j=Math.sqrt(this.MAX_RESOLUTION/(d.width*d.height));j<i&&(i=j);var k={width:h.width*i,height:h.height*i,top:(o.default.screenHeight-h.height*i)/2,left:(o.default.screenWidth-h.width*i)/2};c=a._correctionCenter(d,h,k),b.gesture.center.pageX=c.x,b.gesture.center.pageY=k.height<o.default.screenHeight?c.y:b.gesture.center.pageY,c=a._comeOutCorrection.call(a,b.gesture.center.pageX,b.gesture.center.pageY,i),b.gesture.center.pageX=c.x,b.gesture.center.pageY=c.y,a._startZoomRender(b),b.gesture.scale=i,a._zoomRender(b,i/2*300)}else{if(s.default.zoomLevel<1.05)c=a._comeOutCorrection.call(a,b.gesture.center.pageX,b.gesture.center.pageY,2),b.gesture.center.pageX=c.x,b.gesture.center.pageY=c.y,a._startZoomRender(b),b.gesture.scale=2;else{var l=s.default.getRect(w.default.currentPage.id,1).pageHeight/a.currentContentElement.clientHeight;c=a._comeOutCorrection.call(a,b.gesture.center.pageX,b.gesture.center.pageY,l),b.gesture.center.pageX=c.x,b.gesture.center.pageY=c.y,a._startZoomRender(b),b.gesture.scale=l}a._zoomRender(b,300)}}},(0,i.default)(this.currentContentElement,{prevent_default:!0}).on("doubletap",this._doubletap)},e.prototype._unbindPinchEvent=function(){(0,i.default)(this.currentContentElement,{prevent_default:!0}).off("transformstart",this._pinchStart),(0,i.default)(this.currentContentElement,{prevent_default:!0}).off("pinch",this._pinchMove),(0,i.default)(this.currentContentElement,{prevent_default:!0}).off("transformend",this._pinchEnd),(0,i.default)(this.currentContentElement,{prevent_default:!0}).off("doubletap",this._doubletap)},e.prototype._comeOutCorrection=function(a,b,c){var d,e,f=this.currentContentElement.getBoundingClientRect(),g={top:Math.round(f.top),left:Math.round(f.left),width:Math.round(f.width),height:Math.round(f.height)},h={left:0,top:0,width:g.width,height:g.height},i=b-g.top,j=a-g.left,k=j-j*c,l=i-i*c,m=g.left+k,n=g.top+l,p=g.width*c,q=g.height*c;d=p<o.default.screenWidth?(o.default.screenWidth-p)/2:m+p<o.default.screenWidth?o.default.screenWidth-p:m>0?0:m,e=q<o.default.screenHeight?(o.default.screenHeight-q)/2:n+q<o.default.screenHeight?o.default.screenHeight-q:n>0?0:n;var r={left:d,top:e,width:p,height:q};return this._correctionCenter(g,h,r)},e.prototype._correctionCenter=function(a,b,c){var d=a.left+b.left-c.left,e=c.left+c.width-(a.left+b.left+b.width),f=(d+e)/d,g=a.top+b.top-c.top,h=c.top+c.height-(a.top+b.top+b.height),i=(g+h)/g;return{x:b.left+a.left+b.width/f,y:b.top+a.top+b.height/i}},e.prototype._unbindDom=function(){u.default.transEndEventName&&this.currentContainerElement.removeEventListener(u.default.transEndEventName,this._animationEnd),this._unbindDragEvent(),this._unbindPinchEvent()},e.prototype._setContainerAs=function(a,b){this[b+"ContainerElement"]=this[a+"ContainerElement"],this[b+"ContentElement"]=this[a+"ContentElement"],this[b+"ContentObject"]=this[a+"ContentObject"]},e.prototype._goToLeft=function(){s.default.resetZoomLevel(),this._unbindDom(),this.mainContainer.removeChild(this.leftContainerElement),this._setContainerAs("current","left"),this._setContainerAs("right","current"),this.leftContentObject.resize(),this._newWrapper("right"),this._bindDom()},e.prototype._goToRight=function(){s.default.resetZoomLevel(),this._unbindDom(),this.mainContainer.removeChild(this.rightContainerElement),this._setContainerAs("current","right"),this._setContainerAs("left","current"),this.rightContentObject.resize(),this._newWrapper("left"),this._bindDom()},e.prototype._newWrapper=function(a){a=a||"right";var b=g.default.createElement("div",{class:"wrapper"});this[a+"ContentObject"]=new q.default(b,a,"current"===a),"left"===a?this.mainContainer.insertBefore(b,this.mainContainer.getElementsByTagName("div")[0]):this.mainContainer.appendChild(b),this[a+"ContainerElement"]=b,this[a+"ContentElement"]=this[a+"ContentObject"].container},e.prototype.right=function(a){a=void 0===a?200:a+1,this._stopRender(!1,a,"right")},e.prototype.left=function(a){a=void 0===a?200:a+1,this._stopRender(!1,a,"left")},e.prototype.goToPage=function(a,b){if(b=void 0===b?200:b,a.number!=w.default.previousPage.number){if(s.default.resetZoomLevel(),this.fireTrigger)return void(this.fireTrigger=!1);var c=function(a,b,c){this[a+"ContentObject"]=new q.default(this[a+"ContainerElement"],"current"),this[a+"ContentElement"]=this[a+"ContentObject"].container,this._initSizes.call(this,0),this.once("slideAnimation:end",function(){var b="left"===a?"right":"left";this[b+"ContentObject"]=new q.default(this[b+"ContainerElement"],b),this[b+"ContentElement"]=this[b+"ContentObject"].container,this._initSizes.call(this,0)},this)};a.number>parseInt(w.default.previousPage.number,10)?"rtl"===w.default.pagingType?(Math.abs(w.default.previousPage.number-a.number)>1&&c.call(this,"left",a,w.default.previousPage),this.right(b)):(Math.abs(w.default.previousPage.number-a.number)>1&&c.call(this,"right",a,w.default.previousPage),this.left(b)):a.number<w.default.previousPage.number&&("rtl"===w.default.pagingType?(Math.abs(w.default.previousPage.number-a.number)>1&&c.call(this,"right",a,w.default.previousPage),this.left(b)):(Math.abs(w.default.previousPage.number-a.number)>1&&c.call(this,"left",a,w.default.previousPage),this.right(b)))}},e.prototype.refresh=function(a){this.width=o.default.screenWidth,this.height=o.default.screenHeight,a=a||0,this.globalWidth=this.mainContainer.clientWidth,this.globalHeight=this.mainContainer.clientHeight,this.maxPullSize=this.globalWidth/7,this._unbindDom(),this._bindDom(a)};var z=function(a){function b(a){return parseInt(a.replace("px",""),10)}if(void 0===a)return d={},d.translate={x:0,y:0,z:0},d;var c=a.match(/[^(),\s]+/g),d={};if(null===c)return d.translate={x:0,y:0,z:0},d;for(var e=0,f=c.length;e<f;e++)switch(c[e]){case"translate":d.translate={x:b(c[e+1]),y:b(c[e+2]),z:0};break;case"translateX":d.translate={x:b(c[e+1]),y:0,z:0};break;case"translateY":d.translate={x:0,y:b(c[e+1]),z:0};break;case"translate3d":d.translate={x:b(c[e+1]),y:b(c[e+2]),z:b(c[e+3])};break;case"translateZ":d.translate={x:0,y:0,z:b(c[e+1])}}return d};b.default=e},function(a,b,c){"use strict";(function(a){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c,d){var e,f,g,h,i="R"==a[1];i?(e=a[2]/10,f=a[3]/10,g=a[4]/1e3,h=a[5]/10):(e=a[1]/10,f=a[2]/10,g=a[3]/1e3,h=a[4]/10);var j=c+(d-1),k=0===c?0:b[c-1]/10,l=b[j]/10-k;this.y=f,this.x=e+k-(i?l:0),this.width=l,this.height=h,this.angle=g,this.ratatePadding=k-(i?l:0)}function f(a,b,c){this.contentLoaded=!1,this.isFirstLoadBook=c||!1,this.parentObject=a;var d=j.default.currentPage;if(l.default.clear(this.parentObject),"current"===b?this.page=d:"left"===b?"rtl"===j.default.pagingType?d.wide&&m.pageTable[d.number+1].id===m.pageTable[d.number].id?this.page=new Page(d.number+2):this.page=new Page(d.number+1):d.wide&&m.pageTable[d.number-1].id===m.pageTable[d.number].id?this.page=new Page(d.number-2):this.page=new Page(d.number-1):"rtl"===j.default.pagingType?d.wide&&m.pageTable[d.number-1].id===m.pageTable[d.number].id?this.page=new Page(d.number-2):this.page=new Page(d.number-1):d.wide&&m.pageTable[d.number+1].id===m.pageTable[d.number].id?this.page=new Page(d.number+2):this.page=new Page(d.number+1),this.page.number<1||this.page.number>m.pageTable.pageCount)return this.container=l.default.createElement("div",{id:"stopSlide",styles:{width:"100%",height:"100%",position:"absolute","background-size":"cover"}},this.parentObject),this;this.rect=o.default.getRect(this.page.id);var e=pagesProps.getPageProperty(this.page.id,"backgroundColor");return this.container=l.default.createElement("div",{"data-wide":pagesProps.pages[this.page.id].wide?"true":"false",styles:{width:this.rect.pageWidth+"px",height:this.rect.pageHeight+"px",position:"absolute",overflow:"hidden","background-repeat":"no-repeat","background-origin":"padding-box","background-size":(100*this.rect.contentWidth/this.rect.pageWidth).toFixed()+"% "+(100*this.rect.contentHeight/this.rect.pageHeight).toFixed()+"%","background-position":"center center","background-color":e}},this.parentObject),this.contentContainer=l.default.createElement("div",{class:"content-container",styles:{width:"100%",height:"100%",position:"absolute",overflow:"hidden"}},this.container),pagesProps.pages[this.page.id].stub?void 0:(this.once("contentLoad:start",this._showPreloader,this),this.once("contentLoad:loaded",this._hidePreloader,this),this.trigger("contentLoad:start"),this._placeBackground(),this._placeLinks(),this.once("contentLoad:loaded",this._placeVideos,this),this.once("contentLoad:loaded",this._placeGallery,this),this.once("contentLoad:loaded",this._placeGif,this),this.once("contentLoad:loaded",function(){workspace.searchActive&&this._turnOnSearchHightlights.call(this,workspace.searchQuery)},this),this.on("highlight:loaded",this._placeSearchItem,this),workspace.on("searchHighlight:on",this._turnOnSearchHightlights,this),workspace.on("searchHighlight:off",this._turnOffSearchHightlights,this),this)}Object.defineProperty(b,"__esModule",{value:!0});var g=c(3),h=d(g),i=c(7),j=d(i),k=c(2),l=d(k),m=c(8),n=c(10),o=d(n),p=c(4),q=d(p),r=c(6),s=d(r),t=c(27),u=d(t),v=c(0),w=d(v),x=c(9),y=d(x),z=c(5),A=d(z);f.prototype=new h.default,f.prototype.constructor=f,f.prototype._getImageSizeSuffix=function(){var a,b,c=pagesProps.getPageProperty(this.page.id,"substrateSizes");if(c){var d=Math.max(this.rect.pageWidth,this.rect.pageHeight),e=parseInt(pagesProps.getPageProperty(this.page.id,"substrateSizesReady"),10),f=c.slice(0,e),g=pagesProps.getPageProperty(this.page.id,"textSizes"),h=pagesProps.getPageProperty(this.page.id,"customSubstrateSize");h&&(f=f.slice(0,f.length-1),f.push(parseInt(h,10))),a=f.length;for(var i=0,j=f.length-1;i<j;i++)if(f[i]>=d){a=i+1;break}b=g.length;for(var i=0,j=g.length-1;i<j;i++)if(g[i]>=d){b=i+1;break}}else a="",b="c";return{substrate:a,text:b}},f.prototype._placeBackground=function(){var a=this,b=[],c=0,d=function(b,c){!c&&a.contentLoaded||(w.default.isArray(b)?(l.default.css(a.container,{background:pagesProps.getPageProperty(a.page.id,"backgroundColor")}),w.default.each(b,function(b){var c=(100*a.rect.contentWidth/a.rect.pageWidth).toFixed(2),d=(100*a.rect.contentHeight/a.rect.pageHeight).toFixed(2),e=(100-d)/2,f=(100-c)/2;l.default.createElement("img",{src:b,styles:{width:c+"%",height:d+"%",position:"absolute",left:f+"%",top:e+"%"}},a.container,"top")})):l.default.css(a.container,{"background-image":'url("'+b+'")'}))};changeUrlWhenPubl(pagesProps.getThURL(this.page.id),d),this.once("contentLoad:loaded",d,this);var e=function(d){var e=new Image;e.onload=function(){a.contentLoaded=!0,c++,c===b.length&&a.trigger("contentLoad:loaded",b,!0),e=null},b.push(d),e.src=d},f=this._getImageSizeSuffix();pagesProps.getPageProperty(this.page.id,"textLayer")&&changeUrlWhenPubl(pagesProps.getTextLayerURL(this.page.id,f.text),e),changeUrlWhenPubl(pagesProps.getSubstrateURL(this.page.id,f.substrate),e)},f.prototype.resize=function(a){if(!(this.page.number<1||this.page.number>m.pageTable.pageCount)){a=a||!1,this.rect=o.default.getRect(this.page.id);var b=!!a&&this.container.parentNode;if(a){var c=this.container.cloneNode(!0),d=c.getElementsByClassName("content-container")[0];l.default.clear(d),c.id="new",y.default.transition(c,0),l.default.css(c,{width:this.rect.pageWidth+"px",height:this.rect.pageHeight+"px","background-size":(100*this.rect.contentWidth/this.rect.pageWidth).toFixed()+"% "+(100*this.rect.contentHeight/this.rect.pageHeight).toFixed()+"%","background-position":"center center"}),b.insertBefore(c,this.container),this.container=c,this.contentContainer=d,c=null,d=null}else{if(this.rect.pageWidth===this.container.getBoundingClientRect().width||this.rect.pageHeight===this.container.getBoundingClientRect().height)return!0;l.default.clear(this.contentContainer),y.default.transition(this.container,0),l.default.css(this.container,{width:this.rect.pageWidth+"px",height:this.rect.pageHeight+"px"})}return workspace.searchActive&&this._turnOnSearchHightlights(workspace.searchQuery),this._placeVideos(),this._placeGallery(),this._placeGif(),this._placeLinks(),!0}},f.prototype.isBlock=function(a,b){var c=j.default.currentPage.id,d=o.default.getRect(c,o.default.zoomLevel),e=(a-d.padding[1])/d.ratio,f=(b-d.padding[0])/d.ratio;if(void 0!==pagesProps.pages[c].blocks)for(var g=0,h=pagesProps.pages[c].blocks.length;g<h;g++){var i=pagesProps.pages[c].blocks[g];if(e>=i.rect[2]&&e<=i.rect[2]+i.rect[0]&&f>=i.rect[3]&&f<=i.rect[3]+i.rect[1]){var k={rect:[]};return k.rect[0]=i.rect[0]*d.ratio+10*A.default.getPixelRatio(),(k.rect[1]=i.rect[1]*d.ratio,k.rect[2]=i.rect[2]*d.ratio-5*A.default.getPixelRatio(),k.rect[3]=i.rect[3]*d.ratio,k.rect[2]+=d.padding[1],k.rect[3]+=d.padding[0],this.resultBlockStore===c+"-"+g)?(this.resultBlockStore="",!1):(this.resultBlockStore=c+"-"+g,workspace.trigger("zoom:block",j.default.currentPage),k)}}return this.resultBlockStore="",!1},f.prototype._clear=function(){l.default.clear(this.contentContainer)},f.prototype._placeLinks=function(){if(void 0!==pagesProps.pages[this.page.id].links){for(var b,c=pagesProps.pages[this.page.id].links,d=0,e=c.length;d<e;d++){var f=c[d];if(!w.default.isUndefined(f.id)||!w.default.isUndefined(f.url)){f.rect&&(f.width=f.rect[0],f.height=f.rect[1],f.x=f.rect[2],f.y=f.rect[3]);var g=l.default.createElement("a",{class:"vectorLinks",target:w.default.isUndefined(f.id)?f.target||pagesProps.links.target||"_blank":"_self",styles:{top:(this.rect.padding[0]+f.y*this.rect.ratio-1).toFixed()+"px",left:(this.rect.padding[1]+f.x*this.rect.ratio-1).toFixed()+"px",width:(f.width*this.rect.ratio+2).toFixed()+"px",height:(f.height*this.rect.ratio+2).toFixed()+"px",backgroundColor:f.color||pagesProps.links.color,zIndex:f.zindex}},this.contentContainer);!function(c){w.default.isUndefined(c.id)?(b=0===c.url.indexOf("geo:")?c.url.split(";")[0].replace(" ","").replace("geo:","http://maps.apple.com/?ll="):c.url,g.href=b,g.addEventListener("click",function(b){a.workspace.trigger("link:external",b.target.href,b.target.target,j.default.currentPage.number,"page")})):(0,s.default)(g,{prevent_default:!0}).on("tap",function(){event.stopPropagation(),a.workspace.trigger("link:internal",c.id,j.default.currentPage.number,"page"),j.default.goToPage(w.default.find(m.pageTable,function(a){return a.id===parseInt(c.id,10)}).number)})}(f),y.default.rotate(g,0,0,1,f.angle+"rad"),this._setLinksEvents(g,!0),f=null}}c=null}},f.prototype._setLinksEvents=function(b,c){c=c||!1;var d=!1;if(q.default.platform.ios?(b.addEventListener("touchstart",function(){d?event.preventDefault():event.stopPropagation(),c&&(d||l.default.css(b,{opacity:.6}))}),b.addEventListener("touchmove",function(){if(!d){c&&l.default.css(b,{opacity:"0"}),d=!0;var a=document.createEvent("TouchEvent");a.initTouchEvent("touchstart",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,event.touches,event.targetTouches,event.changedTouches,event.scale,event.rotation,null),event.target.dispatchEvent(a),a=null,event.preventDefault()}}),b.addEventListener("touchend",function(){d&&(event.preventDefault(),d=!1),c&&l.default.css(b,{opacity:0})}),b.addEventListener("touchcancel",function(){d&&(event.preventDefault(),d=!1),c&&l.default.css(b,{opacity:0})})):(0,s.default)(b,{prevent_default:!0}).on("tap",function(){event.stopPropagation(),b.click()}),c){var e=function(){a.pagesProps.links.highlightOnFlip&&(w.default.delay(function(){y.default.animation(b,"linksLight",1e3)},500),w.default.delay(function(){y.default.animation(b,"",0)},2e3))};this.on("slideAnimation:end",function(){this.contentLoaded&&e()},this),this.once("contentLoad:loaded",e,this)}},f.prototype._initYoutubeAPI=function(b,c){var d=this,e=function(){var e,f,g=function(){e=new a.YT.Player(b,{events:{onStateChange:i,onReady:h}})},h=function(){j.default.on("change:page",function(a){a!==d.page.id&&document.body.contains(b)&&e.pauseVideo()})},i=function(d){if(e.getCurrentTime){var g=e.getCurrentTime();d.data===a.YT.PlayerState.PLAYING&&(sessionStorage&&(f=setInterval(function(){document.body.contains(b)?sessionStorage.setItem(c.id,parseInt(g)):(f&&clearInterval(f),f=!1)},250)),q.default.set("youtubePlaying",!0),a.workspace.trigger("video:play",c.analyticsUrl,Math.round(1e3*g)/1e3)),d.data===a.YT.PlayerState.PAUSED&&(f&&clearInterval(f),f=!1,q.default.set("youtubePlaying",!1),a.workspace.trigger("video:pause",c.analyticsUrl,Math.round(1e3*g)/1e3)),d.data===a.YT.PlayerState.ENDED&&(sessionStorage&&(f&&clearInterval(f),f=!1,sessionStorage.removeItem(c.id)),q.default.set("youtubePlaying",!1),a.workspace.trigger("video:stop",c.analyticsUrl,Math.round(1e3*g)/1e3))}};a.YT&&a.YT.Player?g():a.onYouTubeIframeAPIReady=function(){g()}};a.YT&&a.YT.Player?e():A.default.loadScript(["https://www.youtube.com/iframe_api"],e)},f.prototype._initVimeoAPI=function(b,c){var d,e=this,f=function(){d=new a.Vimeo.Player(b);try{j.default.on("change:page",function(a){a!==e.page.id&&document.body.contains(b)&&d.pause()})}catch(a){console.log("vimeo api does not work now")}d.on("play",function(b){q.default.set("vimeoPlaying",!0),a.workspace.trigger("video:play",c.analyticsUrl,b.seconds)}),d.on("pause",function(b){q.default.set("vimeoPlaying",!1),a.workspace.trigger("video:pause",c.analyticsUrl,b.seconds)}),d.on("ended",function(b){sessionStorage&&sessionStorage.removeItem(c.id),q.default.set("vimeoPlaying",!1),a.workspace.trigger("video:stop",c.analyticsUrl,b.seconds)}),d.on("seeked",function(b){a.workspace.trigger("video:seekTo",c.analyticsUrl,b.seconds)}),localStorage&&d.on("timeupdate",function(a){sessionStorage&&a&&sessionStorage.setItem(c.id,parseInt(a.seconds))})};a.Vimeo&&a.Vimeo.Player?f():A.default.loadScript(["https://player.vimeo.com/api/player.js"],f)},f.prototype._initWistiaAPI=function(b,c){var d=this,e=function(){var e={id:c.iframeId,options:{plugin:{"requireEmail-v1":{lowerText:"Thanks in advance!"}}},onEmbedded:function(b){b.bind("play",function(){q.default.set("wistiaPlaying",!0),q.default.set("wistiaPaused",!1),a.workspace.trigger("video:play",c.analyticsUrl,b.time())}),b.bind("pause",function(){q.default.set("wistiaPlaying",!1),q.default.set("wistiaPaused",!0),a.workspace.trigger("video:pause",c.analyticsUrl,b.time())}),b.bind("seek",function(){a.workspace.trigger("video:seekTo",c.analyticsUrl,b.time())}),b.bind("end",function(){q.default.set("wistiaPlaying",!1),q.default.set("wistiaPaused",!1),sessionStorage&&sessionStorage.removeItem(c.id),a.workspace.trigger("video:stop",c.analyticsUrl,b.time())}),localStorage&&b.bind("secondchange",function(a){a&&localStorage.setItem(c.id,a)})},onReady:function(a){j.default.on("change:page",function(c){c!==d.page.id&&document.body.contains(b)&&a.pause()})}};window._wq=window._wq||[],window._wq.push(e)};window.Wistia?e():A.default.loadScript("https://fast.wistia.com/assets/external/E-v1.js",e)},f.prototype._placeVideos=function(){if(void 0!==pagesProps.pages[this.page.id].videos){var b=this;w.default.forEach(pagesProps.pages[this.page.id].videos,function(c){c.x=c.rect[2],c.y=c.rect[3],c.width=c.rect[0],c.height=c.rect[1];var d=l.default.createElement("div",{class:"vectorVideo",styles:{top:(b.rect.padding[0]+c.y*b.rect.ratio).toFixed()+"px",left:(b.rect.padding[1]+c.x*b.rect.ratio).toFixed()+"px",width:(c.width*b.rect.ratio).toFixed()+"px",height:(c.height*b.rect.ratio).toFixed()+"px",zIndex:c.zIndex}},b.contentContainer);if(y.default.rotate(d,0,0,1,c.angle+"rad"),c.showImage){var e=function(a){l.default.css(d,{backgroundColor:"#000",backgroundImage:"url("+a+")"})};changeUrlWhenPubl("assets/common/pages-content/"+c.image,e)}var f=sessionStorage?sessionStorage.getItem(c.id):null,g="";if("youtube"===c.provider&&(f?g+="&start="+f:c.startFrom&&(g+="&start="+c.startFrom),c.iframeUrl=a.location.protocol+"//www.youtube.com/embed/"+c.id+"?html5=1&rel=0&enablejsapi=1&version=3"+g,c.analyticsUrl="https://www.youtube.com/watch?v="+c.id,c.iframeClass="youtube-player"),"vimeo"===c.provider&&(f?g="#t="+A.default.secondToTimeFormat(f):c.startFrom&&(g="#t="+A.default.secondToTimeFormat(c.startFrom)),c.iframeUrl=a.location.protocol+"//player.vimeo.com/video/"+c.id+"?title=0&amp;byline=0&amp;portrait=0&amp;color=da4541"+g,c.analyticsUrl="https://vimeo.com/"+c.id,c.iframeClass="vimeo-player"),"wistia"===c.provider&&(f?g+="&time="+f:c.startFrom&&(g+="&time="+c.startFrom),c.iframeUrl=a.location.protocol+"//fast.wistia.net/embed/iframe/"+c.id+"?googleAnalytics=false"+g,c.analyticsUrl="https://"+c.account+".wistia.com/medias/"+c.id,c.iframeClass="wistia_embed"),c.iframeId=c.provider+"_"+c.id+"_"+(1e3*Math.random()).toFixed(0),"dialog"!==c.mode&&!q.default.os.ios&&c.width*b.rect.ratio>250){var h=l.default.createElement("iframe",{id:c.iframeId,width:"100%",height:"100%",frameBorder:"0",allowfullscreen:"true"},d);switch(h.className=c.iframeClass,h.src=c.iframeUrl,c.provider){case"youtube":b._initYoutubeAPI(h,c);break;case"vimeo":b._initVimeoAPI(h,c);break;case"wistia":b._initWistiaAPI(h,c)}}else{var i=Math.floor(Math.min(c.width*b.rect.ratio/2,c.height*b.rect.ratio/2))+"px",j=Math.floor(64*o.default.zoomLevel)+"px";l.default.createElement("div",{class:"playButton",styles:{width:j,height:j,"max-width":i,"max-height":i}},d).innerHTML='<svg width="51px" height="51px" viewBox="0 0 51 51" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><circle id="path-1" cx="25.5" cy="25.5" r="23.5"></circle><mask id="mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="47" height="47" fill="white"><use xlink:href="#path-1"></use></mask></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-9" transform="translate(-1071.000000, -66.000000)"><g id="Group" transform="translate(960.000000, 0.000000)"><g id="Group-2" transform="translate(111.000000, 66.000000)"><g id="Group-3"><circle id="Oval" fill="#272F37" opacity="0.800000012" cx="25.5" cy="25.5" r="25.5"></circle><use id="Oval" stroke="#FFFFFF" mask="url(#mask-2)" stroke-width="2" opacity="0.5" stroke-dasharray="4,4" xlink:href="#path-1"></use><path d="M20.5144958,15.6748878 C20.3590804,15.5816386 20.1812439,15.5323808 20,15.5323808 C19.4477153,15.5323808 19,15.980096 19,16.5323808 L19,33.4676192 C19,33.6488632 19.0492578,33.8266996 19.1425071,33.982115 C19.4266552,34.4556953 20.0409155,34.6092603 20.5144958,34.3251122 L34.6271945,25.8574929 C34.7679441,25.7730432 34.8857419,25.6552454 34.9701917,25.5144958 C35.2543398,25.0409155 35.1007748,24.4266552 34.6271945,24.1425071 L20.5144958,15.6748878 Z" id="Rectangle-3" stroke="#FFFFFF" stroke-width="2"></path></g></g></g></g></g></svg>',(0,s.default)(d,{prevent_default:!0}).on("tap",function(){event.stopPropagation(),a.isPublisher?a.workspace.trigger("video:publisher",c.analyticsUrl):b._playVideo.call(b,c)})}})}},f.prototype._playVideo=function(a){var b=l.default.createElement("div",{class:"blackOutVideo"},document.body),c=A.default.fitScreenSizes(1600,900,q.default.screenHeight/10),d=l.default.createElement("iframe",{class:"videoFrame "+a.iframeClass,id:a.iframeId,type:"text/html",width:c.width+"px",height:c.height+"px",frameBorder:"0",allowfullscreen:"true",styles:{"z-index":"99999999",margin:c.paddingTop+"px 0 0 "+c.paddingLeft+"px"}},b);switch(d.src=a.iframeUrl,a.provider){case"youtube":this._initYoutubeAPI(d,a);break;case"vimeo":this._initVimeoAPI(d,a);break;case"wistia":this._initWistiaAPI(d,a)}(0,s.default)(d,{prevent_default:!1}).on("tap",function(){event.stopPropagation()});var e=function(){var a=A.default.fitScreenSizes(1600,900,q.default.screenHeight/10);d.width=a.width+"px",d.height=a.height+"px",l.default.css(d,{margin:a.paddingTop+"px 0 0 "+a.paddingLeft+"px"})};q.default.on("change:orientation",e,this),(0,s.default)(b,{prevent_default:!0}).on("tap",function(){event.stopPropagation(),q.default.off("change:orientation",e,this),l.default.del(event.target)})},f.prototype._placeGallery=function(){if(void 0!==pagesProps.pages[this.page.id].images){var a=this;w.default.forEach(pagesProps.pages[this.page.id].images,function(b){if(b.x=b.rect[2],b.y=b.rect[3],b.width=b.rect[0],b.height=b.rect[1],void 0!==b.previewUrl){var c=l.default.createElement("img",{class:"vectorVideo",styles:{top:(a.rect.padding[0]+b.y*a.rect.ratio).toFixed()+"px",left:(a.rect.padding[1]+b.x*a.rect.ratio).toFixed()+"px",width:(b.width*a.rect.ratio).toFixed()+"px",height:(b.height*a.rect.ratio).toFixed()+"px",webkitTransform:"rotate("+b.angle+"rad)",zIndex:b.zIndex}},a.contentContainer),d=function(a){c.src=a};changeUrlWhenPubl("assets/common/pages-content/"+b.previewUrl,d)}var e=l.default.createElement("div",{class:"galleryLight",styles:{top:(a.rect.padding[0]+b.y*a.rect.ratio).toFixed()+"px",left:(a.rect.padding[1]+b.x*a.rect.ratio).toFixed()+"px",width:(b.width*a.rect.ratio).toFixed()+"px",height:(b.height*a.rect.ratio).toFixed()+"px",webkitTransform:"rotate("+b.angle+"rad)",zIndex:b.zIndex+1,backgroundColor:pagesProps.links.color,opacity:0,position:"absolute"}},a.contentContainer);(0,s.default)(e,{prevent_default:!0}).on("tap",function(){event.stopPropagation(),a._showPhoto.call(a,b.urls)});var f=function(){w.default.delay(function(){y.default.animation(e,"galleryLight",1e3)},500),w.default.delay(function(){y.default.animation(e,"",0)},2e3)};a.on("slideAnimation:end",function(){this.contentLoaded&&f()},a),f()})}},f.prototype._placeGif=function(){if(void 0!==pagesProps.pages[this.page.id].gifs){var a=this,b={lines:13,length:10,width:5,radius:10,corners:1,rotate:0,direction:1,color:"#fff",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"};w.default.forEach(pagesProps.pages[this.page.id].gifs,function(c){var d,e,f,g,h;c.x=c.rect[2],c.y=c.rect[3],c.width=c.rect[0],c.height=c.rect[1];var i=l.default.createElement("div",{class:"gifContainer"+(c.autoplay?" autoplay":""),styles:{top:(a.rect.padding[0]+c.y*a.rect.ratio).toFixed()+"px",left:(a.rect.padding[1]+c.x*a.rect.ratio).toFixed()+"px",width:(c.width*a.rect.ratio).toFixed()+"px",height:(c.height*a.rect.ratio).toFixed()+"px",webkitTransform:"rotate("+c.rotation+"rad)",zIndex:c.zIndex}},a.contentContainer),k=function(a){h=a,i.style.backgroundImage="url('"+h+"')"};changeUrlWhenPubl("assets/common/pages-content/"+c.previewUrl,k);var m=Math.floor(Math.min(c.width*a.rect.ratio/2,c.height*a.rect.ratio/2)),n=Math.floor(64*o.default.zoomLevel),p=l.default.createElement("div",{class:"playButton",styles:{width:n+"px",height:n+"px","max-width":m+"px","max-height":m+"px"}},i);if(!c.loop){l.default.createElement("div",{class:"gifReplay",styles:{width:40*o.default.zoomLevel+"px",height:40*o.default.zoomLevel+"px",right:15*o.default.zoomLevel+"px",bottom:15*o.default.zoomLevel+"px",padding:5*o.default.zoomLevel+"px"}},i).innerHTML='<svg viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M5.80269345,9.96434679 L3.70964912,8.78457454 C3.339359,8.57585266 2.90351014,8.92248907 3.01889076,9.33392425 L4.9079624,16.0701254 C4.97948735,16.3251548 5.24265195,16.473498 5.49575857,16.401414 L12.1801394,14.4977165 C12.5884112,14.3814319 12.6533689,13.8257809 12.2831002,13.6170158 L9.96005119,12.3076508 C11.9575019,8.93635875 16.2782874,7.79576235 19.6639957,9.76566003 C23.0806589,11.7535355 24.2512794,16.156271 22.2786879,19.5994071 C20.3060964,23.0425431 15.9372116,24.2222338 12.5205484,22.2343583 L10.1393993,26.3905591 C15.8338221,29.7037328 23.1152808,27.7375497 26.4029334,21.9990057 C29.6906335,16.2604616 27.7395676,8.92258506 22.0451448,5.60943047 C16.3628658,2.30334031 9.1003135,4.25408487 5.80269345,9.96434679 Z" id="a" fill="#ffffff" fill-rule="nonzero"></path></g></svg>'}p.innerHTML='<svg width="51px" height="51px" viewBox="0 0 51 51" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><circle id="path-1" cx="25.5" cy="25.5" r="23.5"></circle><mask id="mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="47" height="47" fill="white"><use xlink:href="#path-1"></use></mask></defs><g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-9" transform="translate(-111.000000, -66.000000)"><g id="Group"><g id="Group-2" transform="translate(111.000000, 66.000000)"><g id="Group-3"><circle id="Oval" fill="#272F37" opacity="0.800000012" cx="25.5" cy="25.5" r="25.5"></circle><use id="Oval" stroke="#FFFFFF" mask="url(#mask-2)" stroke-width="2" opacity="0.5" stroke-dasharray="4,4" xlink:href="#path-1"></use><path d="M22.875,29.5234375 C22.4635396,30.0598985 21.8932328,30.4661445 21.1640625,30.7421875 C20.4348922,31.0182305 19.6067755,31.15625 18.6796875,31.15625 C17.7265577,31.15625 16.8828162,30.9401063 16.1484375,30.5078125 C15.4140588,30.0755187 14.8476582,29.4570353 14.4492188,28.6523438 C14.0507793,27.8476522 13.8437501,26.9088595 13.828125,25.8359375 L13.828125,24.9453125 C13.828125,23.2265539 14.2395792,21.8841194 15.0625,20.9179688 C15.8854208,19.9518181 17.0338468,19.46875 18.5078125,19.46875 C19.7734438,19.46875 20.7786421,19.7812469 21.5234375,20.40625 C22.2682329,21.0312531 22.7161451,21.9322858 22.8671875,23.109375 L20.9296875,23.109375 C20.7109364,21.7395765 19.9166735,21.0546875 18.546875,21.0546875 C17.6614539,21.0546875 16.9882836,21.3736947 16.5273438,22.0117188 C16.0664039,22.6497428 15.8281251,23.5859313 15.8125,24.8203125 L15.8125,25.6953125 C15.8125,26.9244853 16.071612,27.8789029 16.5898438,28.5585938 C17.1080755,29.2382846 17.8281204,29.578125 18.75,29.578125 C19.7604217,29.578125 20.4791645,29.3489606 20.90625,28.890625 L20.90625,26.6640625 L18.5625,26.6640625 L18.5625,25.1640625 L22.875,25.1640625 L22.875,29.5234375 Z M27.223343,31 L25.254593,31 L25.254593,19.625 L27.223343,19.625 L27.223343,31 Z M36.2982485,26.1796875 L31.7201235,26.1796875 L31.7201235,31 L29.743561,31 L29.743561,19.625 L36.9701235,19.625 L36.9701235,21.21875 L31.7201235,21.21875 L31.7201235,24.6015625 L36.2982485,24.6015625 L36.2982485,26.1796875 Z" id="GIF" fill="#FFFFFF"></path></g></g></g></g></g></svg>';var q=l.default.createElement("div",{class:"gifPreloader",styles:{width:36*A.default.getPixelRatio()+"px",height:36*A.default.getPixelRatio()+"px"}},i),r=new u.default(b),t=function(a){!a.url||l.default.hasClass(i,"playing")||l.default.hasClass(i,"loading")?!1===a.loop&&l.default.hasClass(i,"ended")?x():(l.default.hasClass(i,"playing")||l.default.hasClass(i,"loading"))&&w():v()},v=function(){c.url&&(e=new Image,e.onload=function(){clearTimeout(f),l.default.removeClass(i,"loading"),l.default.addClass(i,"playing"),d=l.default.createElement("div",{class:"gifImage"},i,"top");var b=e.naturalWidth,h=e.naturalHeight,j=Math.max(c.width/b,c.height/h);e.style.width=(b*j*a.rect.ratio).toFixed(0)+"px",e.style.height=(h*j*a.rect.ratio).toFixed(0)+"px",d.appendChild(e),r.stop(),!1===c.loop&&c.duration&&(g=setTimeout(function(){l.default.addClass(i,"ended")},c.duration+300))},changeUrlWhenPubl("assets/common/pages-content/"+c.url,function(a){!1!==c.loop||c.duration?e.src=a:y(a,function(a,b){c.duration=b,e.src=a})}),r.spin(q),f=setTimeout(function(){l.default.addClass(i,"loading")},200))},w=function(){c.previewUrl&&i&&(e&&e.src&&(e.removeAttribute("src"),e.onload=null),clearTimeout(f),clearTimeout(g),l.default.removeClass(i,"loading"),l.default.removeClass(i,"playing"),l.default.removeClass(i,"autoplay"),l.default.removeClass(i,"ended"),d&&l.default.del(d),e=null)},x=function(){w(),v()},y=function(a,b){A.default.downloadFile(a,function(a){for(var c=new Uint8Array(a),d="",e=0,f=0;f<c.length;f++)if(d+=String.fromCharCode(c[f]),33===c[f]&&249===c[f+1]&&4===c[f+2]&&0===c[f+7]){var g=c[f+5]<<8|255&c[f+4];e+=g<2?10:g}b("data:image/gif;base64,"+btoa(d),10*e)})};if((0,s.default)(i,{prevent_default:!0}).on("tap",function(){event.stopPropagation(),t(c)}),c.autoplay){var z=function(){c.fileSize&&c.fileSize<1024&&j.default.currentPage.id===a.page.id?v():l.default.removeClass(i,"autoplay")};c.fileSize?z():changeUrlWhenPubl("assets/common/pages-content/"+c.url,function(a){A.default.getFileSize(a,function(a){c.fileSize=a/1024,z()})})}j.default.on("change:page",function(b){b.id!==a.page.id&&(l.default.hasClass(i,"playing")||l.default.hasClass(i,"loading")||l.default.hasClass(i,"ended"))?w():b.id===a.page.id&&c.autoplay&&c.fileSize&&c.fileSize<1024?v():c.autoplay&&l.default.removeClass(i,"autoplay")})})}},f.prototype._showPhoto=function(b){"undefined"!=typeof universalAnalytics&&universalAnalytics.clickImage("/pages-content/"+b[0]);var c=l.default.createElement("div",{class:"blackOutVideo",id:"blackOut"},document.body);l.default.createElement("img",{src:a.FbRouter.translatePath("static/mobile/styles/preloader.gif"),id:"galleryPreloader",styles:{"z-index":100001001,position:"absolute",top:"50%",left:"50%","webkit-transform":"translate3d(0px, 0px, 303px)",border:10*A.default.getPixelRatio()+"px solid #F5F5F5","background-color":"#F5F5F5",margin:"-"+26*A.default.getPixelRatio()+"px 0 0 -"+26*A.default.getPixelRatio()+"px",width:52*A.default.getPixelRatio()+"px",borderRadius:"5px"}},document.body);var d,e,f,g=new Image,h=q.default.screenHeight<q.default.screenWidth?.1*q.default.screenHeight:.1*q.default.screenWidth;g.onload=function(){if(g){"undefined"!=typeof universalAnalytics&&universalAnalytics.imageLoaded("/pages-content/"+g.src),l.default.del("galleryPreloader"),e=g.width,f=g.height;var a=A.default.fitScreenSizes(e,f,h);a.width>e&&(a.width=e,a.height=f,a.paddingLeft=(q.default.screenWidth-e)/2,a.paddingTop=(q.default.screenHeight-f)/2),d=l.default.createElement("img",{src:g.src,id:"galleryImg",styles:{backgroundColor:"#fff",border:6*A.default.getPixelRatio()+"px solid #fff",width:100*a.width/q.default.screenWidth+"%",height:100*a.height/q.default.screenHeight+"%",position:"absolute",top:a.height<q.default.screenHeight?100*a.paddingTop/q.default.screenHeight+"%":0,left:a.width<q.default.screenWidth?100*a.paddingLeft/q.default.screenWidth+"%":0,"z-index":10000001,"webkit-transform":"translate3d(0px, 0px, 301px)"}},document.body);var b=l.default.createElement("span",{class:"icon fb-icon-round-close",id:"closeImg",styles:{position:"absolute","box-shadow":"0px 0px "+3*A.default.getPixelRatio()+"px #000","webkit-transform":"translate3d(0px, 0px, 302px)",top:a.height<q.default.screenHeight?100*a.paddingTop/q.default.screenHeight+"%":0,right:a.width<q.default.screenWidth?100*a.paddingLeft/q.default.screenWidth+"%":0,color:"black","background-color":"white",width:26*A.default.getPixelRatio()+"px",height:26*A.default.getPixelRatio()+"px","line-height":26*A.default.getPixelRatio()+"px","border-radius":26*A.default.getPixelRatio()/2+"px",margin:-26*A.default.getPixelRatio()/2+"px","z-index":10000002}},document.body);(0,s.default)(b,{prevent_default:!0}).on("tap",k),q.default.on("change:orientation",i,this)}};var i=function(){w.default.defer(function(){var a=A.default.fitScreenSizes(e,f,h);l.default.css(l.default.id("galleryImg"),{width:100*a.width/q.default.screenWidth+"%",height:100*a.height/q.default.screenHeight+"%",top:a.height<q.default.screenHeight?100*a.paddingTop/q.default.screenHeight+"%":0,left:a.width<q.default.screenWidth?100*a.paddingLeft/q.default.screenWidth+"%":0}),l.default.css(l.default.id("closeImg"),{top:a.height<q.default.screenHeight?100*a.paddingTop/q.default.screenHeight+"%":0,right:a.width<q.default.screenWidth?100*a.paddingLeft/q.default.screenWidth+"%":0})})},j=function(a){g.src=a};changeUrlWhenPubl("assets/common/pages-content/"+b[0],j);var k=function(a){a.stopPropagation(),l.default.del("blackOut"),l.default.del("galleryImg"),l.default.del("closeImg"),l.default.del("galleryPreloader"),g=null,q.default.off("change:orientation",i)};(0,s.default)(c,{prevent_default:!0}).on("tap",k)},f.prototype._placeSearchItem=function(a){var b=l.default.createElement("div",{class:"searchItemHighlight",styles:{position:"absolute",top:(this.rect.padding[0]+a.y*this.rect.ratio-1).toFixed()+"px",left:(this.rect.padding[1]+a.x*this.rect.ratio-1).toFixed()+"px",width:(a.width*this.rect.ratio+2).toFixed()+"px",height:(a.height*this.rect.ratio+2).toFixed()+"px",opacity:.6,backgroundColor:pagesProps.search.color}},this.contentContainer);y.default.origin(b,(-a.ratatePadding*this.rect.ratio).toFixed(),0),y.default.rotate(b,a.angle+"rad",0,0,1)},f.prototype._turnOffSearchHightlights=function(){this._clear(),this._placeVideos(),this._placeGallery(),this._placeGif(),this._placeLinks()},f.prototype._turnOnSearchHightlights=function(a){this._turnOffSearchHightlights();var b=this,c=function(){var c=this.responseText.split("\n");a=a.toLowerCase()||"",a=A.default.split(a,0);for(var d=1,f=c.length;d<f;d++)for(var g=c[d],h=0,i=0,j=a.length;i<j;i++){var k=a[i],l=g.split(String.fromCharCode(2));if(k.length<workspaceProps.search.searchCharactersLimit){var m=void 0!=c[d-1]?c[d-1].split(String.fromCharCode(2))[0]:"",n=c[d].split(String.fromCharCode(2))[0]||"",o=void 0!=c[d+1]?c[d+1].split(String.fromCharCode(2))[0]:"",p=m+" "+n,q=n+" "+o,r=a[i-1]||"",s=a[i],t=a[i+1]||"",u=r+" "+s,v=s+" "+t,w=!1;""!=r&&-1!=p.toLowerCase().indexOf(u)&&(w=!0),""!=t&&-1!=q.toLowerCase().indexOf(v)&&(w=!0)}else w=!0;if(-1!=(h=l[0].toLowerCase().indexOf(k))&&w){var x=g.split(String.fromCharCode(4));if(x.length>1){for(var y=[],z=[],B=0,C=x.length;B<C;B++)y[B]=x[B].split(String.fromCharCode(2)),B>0&&y[B].unshift(y[0][0]),z[B]=y[B][5].split(String.fromCharCode(3));for(var D=h,E=h+k.length,F=0,G=y.length;F<G;F++)if(z[F].length<=D)D-=z[F].length,E-=z[F].length;else{if(E>z[F].length){var H=z[F].length;E-=z[F].length}else{var H=E;E=0}D>0&&(H-=D);var I=new e(y[F],z[F],D,H);D=0,b.trigger("highlight:loaded",I)}}else{var z="R"==l[1]?l[6].split(String.fromCharCode(3)):l[5].split(String.fromCharCode(3)),I=new e(l,z,h,k.length);b.trigger("highlight:loaded",I)}}}},d=new XMLHttpRequest;d.onload=c,d.onerror=function(){};var f=function(a){d.open("GET",a),d.send()};changeUrlWhenPubl("assets/common/search/search"+A.default.getNum(this.page.id)+".xml",f)},f.prototype._showPreloader=function(){var a=l.default.createElement("div",{id:"pagePreloader",class:"pagePreloader"},this.parentObject),b={lines:13,length:15,width:7,radius:16,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"};new u.default(b).spin(a)},f.prototype._hidePreloader=function(){l.default.del("pagePreloader")},b.default=f}).call(b,c(1))},function(a,b,c){"use strict";var d,e;Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g={};!function(g,h){"object"==f(b)?a.exports=h():(d=h,void 0!==(e="function"==typeof d?d.call(b,c,b,a):d)&&(a.exports=e))}(0,function(){function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=j.substring(0,j.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return l[e]||(m.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",m.cssRules.length),l[e]=1),e}function d(a,b){var c,d,e=a.style;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<k.length;d++)if(c=k[d]+b,void 0!==e[c])return c;return void 0!==e[b]?b:void 0}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a,b){return"string"==typeof a?a:a[b%a.length]}function h(a){this.opts=f(a||{},h.defaults,n)}function i(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}m.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k})}function h(a,h,i){b(m,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~h}),b(e(c("roundrect",{arcsize:d.corners}),{width:j,height:d.width,left:d.radius,top:-d.width>>1,filter:i}),c("fill",{color:g(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var i,j=d.length+d.width,k=2*j,l=2*-(d.width+d.length)+"px",m=e(f(),{position:"absolute",top:l,left:l});if(d.shadow)for(i=1;i<=d.lines;i++)h(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=d.lines;i++)h(i);return b(a,m)},h.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,(e=e&&e.firstChild)&&(e.opacity=c))}}var j,k=["webkit","Moz","ms","O"],l={},m=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),n={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};h.defaults={},f(h.prototype,{spin:function(b){this.stop();var c=this,d=c.opts,f=c.el=e(a(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});if(d.radius,d.length,d.width,e(f,{left:d.left,top:d.top}),b&&b.insertBefore(f,b.firstChild||null),f.setAttribute("role","progressbar"),c.lines(f,c.opts),!j){var g,h=0,i=(d.lines-1)*(1-d.direction)/2,k=d.fps,l=k/d.speed,m=(1-d.opacity)/(l*d.trail/100),n=l/d.lines;!function a(){h++;for(var b=0;b<d.lines;b++)g=Math.max(1-(h+(d.lines-b)*n)%l*m,d.opacity),c.opacity(f,b*d.direction+i,g,d);c.timeout=c.el&&setTimeout(a,~~(1e3/k))}()}return c},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function h(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*k+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var i,k=0,l=(f.lines-1)*(1-f.direction)/2;k<f.lines;k++)i=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:j&&c(f.opacity,f.trail,l+k*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(i,e(h("#000","0 0 4px #000"),{top:"2px"})),b(d,b(i,h(g(f.color,k),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var o=e(a("group"),{behavior:"url(#default#VML)"});return!d(o,"transform")&&o.adj?i():j=d(o,"animation"),h}),b.default=g.Spinner}]);